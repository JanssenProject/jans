apiVersion: v1
data:
  AUTHZ_CLIENT_ID: "aa4c8edf-1d68-462b-ac49-178c7b1db8fd"
  AUTHZ_CLIENT_SECRET: "9c077c8a-dc84-4baa-abde-edc1a343e3e3"
  # First batch is the users from min - max that login 10% every time
  FIRST_BATCH_MAX: "1000"
  FIRST_BATCH_MIN: "0"
  # Second batch is the users from min - max that login 90% every time
  SECOND_BATCH_MAX: "5000"
  SECOND_BATCH_MIN: "1002"
  FQDN: demoexample.jans.io
  RUN_AUTHZ_TEST: "true" # or "false"
kind: ConfigMap
metadata:
  labels:
    app: load-testing
  name: load-testing-cm
---
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: load-testing
  name: load-testing
spec:
  replicas: 1
  selector:
    matchLabels:
      app: load-testing
  template:
    metadata:
      labels:
        app: load-testing
    spec:
      #hostAliases:
      #- ip: 35.159.30.85
      #  hostnames:
      #  - demoexample.jans.io
      containers:
      - envFrom:
        - configMapRef:
            name: load-testing-cm
        image: janssenproject/demo_loadtesting:1.0.0_dev
        imagePullPolicy: Always
        name: load-testing
        resources:
          requests:
            memory: "2000Mi"
            cpu: "2000m"
          limits:
            memory: "2000Mi"
            cpu: "2000m"