

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Janssen Project Deployment and Operation References">
      
      
        <meta name="author" content="Janssen, Inc.">
      
      
        <link rel="canonical" href="https://docs.jans.io/nightly/janssen-server/lock/lock-server/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../../../CHANGELOG/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/janssen_project_favicon_transparent_50px_50px.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Lock Server - Janssen Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../css/tabs.css">
    
      <link rel="stylesheet" href="../../../stylesheets/mermaid-extra.css">
    
      <link rel="stylesheet" href="../../../stylesheets/home.css">
    
      <link rel="stylesheet" href="../../../stylesheets/navigation.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lock-server-configuration-and-operation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Janssen Documentation" class="md-header__button md-logo" aria-label="Janssen Documentation" data-md-component="logo">
      
  <img src="../../../assets/janssen_project.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Janssen Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lock Server
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/JanssenProject/jans/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
    
  
  Get Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../architecture/" class="md-tabs__link">
          
  
  
    
  
  Architecture & Concepts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../auth-server/" class="md-tabs__link">
          
  
  
    
  
  Integrate & Authenticate

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../config-guide/" class="md-tabs__link">
          
  
  
    
  
  Configure Identity & Policies

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../test-debug/" class="md-tabs__link">
          
  
  
    
  
  Test & Debug

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Deploy & Operate

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../CHANGELOG/" class="md-tabs__link">
          
  
  
    
  
  Product & Releases

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Janssen Documentation" class="md-nav__button md-logo" aria-label="Janssen Documentation" data-md-component="logo">
      
  <img src="../../../assets/janssen_project.svg" alt="logo">

    </a>
    Janssen Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/JanssenProject/jans/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../.." class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Get Started
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../architecture/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Architecture & Concepts
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../auth-server/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Integrate & Authenticate
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../config-guide/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Configure Identity & Policies
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../test-debug/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Test & Debug
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Deploy & Operate
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deploy & Operate
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../planning/overview/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Planning
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../install/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../kubernetes-ops/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Kubernetes Operations
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../vm-ops/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    VM Operations
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../reference/database/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Database
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../terraform/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Terraform & IaC
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../link/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Link (User Sync)
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_9" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Lock
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_9" id="__nav_6_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Lock
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Lock Server
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Lock Server
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Capabilities
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-level-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        High-Level Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internal-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Internal Architecture
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-and-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation and Deployment
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation and Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deployment-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deployment Options
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standalone-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standalone Deployment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrated-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integrated Deployment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-availability-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        High Availability Setup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation Steps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-configuration-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Configuration Properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-store-sources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Sources
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Policy Store Sources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        GitHub Repository
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local File System
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTTP Endpoint
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-api-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        REST API Endpoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST API Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#policy-store-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Endpoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Policy Store Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-policy-store" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get Policy Store
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-policy-stores" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Policy Stores
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audit-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Audit Endpoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Audit Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#submit-audit-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Submit Audit Logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-health-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Submit Health Status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-telemetry-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Submit Telemetry Data
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#well-known-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Well-Known Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Well-Known Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lock-server-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lock Server Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oauth-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        OAuth Security
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-based-access-control" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope-Based Access Control
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging-and-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Logging and Monitoring
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging and Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log Files
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Log Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-log-lock_server_configlog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Log (lock_server_config.log)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audit-log-lock_server_auditlog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Audit Log (lock_server_audit.log)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt-status-log-lock_server_jwt_statuslog" class="md-nav__link">
    <span class="md-ellipsis">
      
        JWT Status Log (lock_server_jwt_status.log)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdbms-audit-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        RDBMS Audit Storage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics-and-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metrics and Monitoring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CLI Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jans-cli-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Jans CLI Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Jans CLI Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#policy-store-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics-and-monitoring_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metrics and Monitoring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tui-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        TUI Interface
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Issues
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#policy-store-not-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Not Loading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oauth-token-validation-failures" class="md-nav__link">
    <span class="md-ellipsis">
      
        OAuth Token Validation Failures
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-update-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Update Issues
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Optimization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#policy-store-caching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Caching
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Optimization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#production-deployment-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        Production Deployment Security
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Best Practices
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        API Reference
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../CHANGELOG/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Product & Releases
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Capabilities
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-level-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        High-Level Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internal-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Internal Architecture
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-and-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation and Deployment
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation and Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deployment-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deployment Options
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standalone-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standalone Deployment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrated-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integrated Deployment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-availability-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        High Availability Setup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation Steps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-configuration-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Configuration Properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-store-sources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Sources
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Policy Store Sources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        GitHub Repository
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local File System
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTTP Endpoint
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-api-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        REST API Endpoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="REST API Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#policy-store-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Endpoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Policy Store Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-policy-store" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get Policy Store
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-policy-stores" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Policy Stores
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audit-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Audit Endpoints
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Audit Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#submit-audit-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Submit Audit Logs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-health-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Submit Health Status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-telemetry-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Submit Telemetry Data
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#well-known-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Well-Known Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Well-Known Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lock-server-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lock Server Configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oauth-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        OAuth Security
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OAuth Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-based-access-control" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope-Based Access Control
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging-and-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Logging and Monitoring
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging and Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log Files
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Log Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration-log-lock_server_configlog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Log (lock_server_config.log)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audit-log-lock_server_auditlog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Audit Log (lock_server_audit.log)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt-status-log-lock_server_jwt_statuslog" class="md-nav__link">
    <span class="md-ellipsis">
      
        JWT Status Log (lock_server_jwt_status.log)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdbms-audit-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        RDBMS Audit Storage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics-and-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metrics and Monitoring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CLI Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jans-cli-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Jans CLI Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Jans CLI Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#policy-store-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#client-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics-and-monitoring_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metrics and Monitoring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tui-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        TUI Interface
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Issues
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#policy-store-not-loading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Not Loading
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oauth-token-validation-failures" class="md-nav__link">
    <span class="md-ellipsis">
      
        OAuth Token Validation Failures
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-update-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Update Issues
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Optimization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#policy-store-caching" class="md-nav__link">
    <span class="md-ellipsis">
      
        Policy Store Caching
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Optimization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#production-deployment-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        Production Deployment Security
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security Best Practices
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        API Reference
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    Deploy & Operate
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../" class="md-path__link">
          
  <span class="md-ellipsis">
    Lock
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
  
                  

  <nav class="md-tags" >
    
      
      
      
      
        <span class="md-tag">Cedar</span>
      
    
      
      
      
      
        <span class="md-tag">Cedarling</span>
      
    
      
      
      
      
        <span class="md-tag">administration</span>
      
    
      
      
      
      
        <span class="md-tag">authorization</span>
      
    
      
      
      
      
        <span class="md-tag">authz</span>
      
    
      
      
      
      
        <span class="md-tag">java-weld</span>
      
    
      
      
      
      
        <span class="md-tag">lock</span>
      
    
      
      
      
      
        <span class="md-tag">policy-retrieval-point</span>
      
    
  </nav>


  
  


<h1 id="lock-server-configuration-and-operation">Lock Server Configuration and Operation<a class="headerlink" href="#lock-server-configuration-and-operation" title="Permanent link">#</a></h1>
<p>The Janssen Lock Server is a Java Weld application that serves as the centralized Policy Retrieval Point (PRP) in a distributed Cedar-based authorization architecture. It connects ephemeral Cedarling instances to enterprise infrastructure by providing policy distribution, audit log collection, and OAuth-protected endpoints for secure communication.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">#</a></h2>
<p>The Lock Server acts as the bridge between policy authoring tools (like Agama Lab Policy Designer) and distributed Cedarling instances, ensuring consistent policy enforcement across the network while maintaining high availability and security.</p>
<h3 id="key-capabilities">Key Capabilities<a class="headerlink" href="#key-capabilities" title="Permanent link">#</a></h3>
<ul>
<li><strong>Policy Distribution</strong>: Centralized management and distribution of Cedar policies</li>
<li><strong>Policy Updates</strong>: Efficient policy change management and distribution</li>
<li><strong>Audit Collection</strong>: Centralized logging of authorization decisions and system events</li>
<li><strong>OAuth Security</strong>: Comprehensive OAuth 2.0 protection for all endpoints</li>
<li><strong>Flexible Deployment</strong>: Standalone or integrated with Jans Auth Server</li>
<li><strong>Management Interfaces</strong>: CLI, TUI, and REST API for administration</li>
</ul>
<h2 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Permanent link">#</a></h2>
<h3 id="high-level-components">High-Level Components<a class="headerlink" href="#high-level-components" title="Permanent link">#</a></h3>
<pre class="mermaid"><code>graph TB
    subgraph "Policy Authoring"
        AL[Agama Lab Policy Designer]
        GH[GitHub Repository]
    end

    subgraph "Lock Server Infrastructure"
        LS[Lock Server]
        CL[Embedded Cedarling]
        PS[Policy Store Cache]
        AL_LOG[Audit Logs]
    end

    subgraph "OAuth Infrastructure"
        AS[Jans Auth Server]
        DCR[Dynamic Client Registration]
    end

    subgraph "Cedarling Clients"
        C1[Cedarling Client 1]
        C2[Cedarling Client 2]
        CN[Cedarling Client N]
    end

    AL --&gt; GH
    GH --&gt; PS
    C1 --&gt; DCR
    C2 --&gt; DCR
    CN --&gt; DCR
    DCR --&gt; AS
    C1 -.-&gt;|OAuth Token| LS
    C2 -.-&gt;|OAuth Token| LS
    CN -.-&gt;|OAuth Token| LS
    LS --&gt; CL
    LS --&gt; PS
    LS --&gt; AL_LOG
    C1 -.-&gt;|Audit Data| LS
    C2 -.-&gt;|Audit Data| LS
    CN -.-&gt;|Audit Data| LS</code></pre>
<h3 id="internal-architecture">Internal Architecture<a class="headerlink" href="#internal-architecture" title="Permanent link">#</a></h3>
<p>The Lock Server consists of several layers:</p>
<ul>
<li><strong>Web Layer</strong>: REST endpoints for policy and audit operations</li>
<li><strong>Security Layer</strong>: OAuth token validation and Cedarling authorization</li>
<li><strong>Business Logic</strong>: Policy store management, audit collection, client management</li>
<li><strong>Data Layer</strong>: Policy store cache, audit storage, client registry</li>
<li><strong>Integration Layer</strong>: Embedded Cedarling, external policy sources</li>
</ul>
<h2 id="installation-and-deployment">Installation and Deployment<a class="headerlink" href="#installation-and-deployment" title="Permanent link">#</a></h2>
<h3 id="deployment-options">Deployment Options<a class="headerlink" href="#deployment-options" title="Permanent link">#</a></h3>
<p>The Lock Server supports two primary deployment models:</p>
<h4 id="standalone-deployment">Standalone Deployment<a class="headerlink" href="#standalone-deployment" title="Permanent link">#</a></h4>
<p>Deploy Lock Server as an independent web application:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># docker-compose.yml</span>
<span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;3.8&#39;</span>
<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">lock-server</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">janssenproject/lock-server:latest</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;8080:8080&quot;</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LOCK_SERVER_POLICY_STORE_SOURCE=github</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LOCK_SERVER_GITHUB_REPO=org/policy-repo</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LOCK_SERVER_OAUTH_ISSUER=https://auth.example.com</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LOCK_SERVER_JWKS_URI=https://auth.example.com/.well-known/jwks</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./config:/opt/jans/lock-server/config</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./logs:/opt/jans/lock-server/logs</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jans-network</span>

<span class="w">  </span><span class="nt">redis</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis:alpine</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jans-network</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">jans-network</span><span class="p">:</span>
<span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bridge</span>
</code></pre></div>
<h4 id="integrated-deployment">Integrated Deployment<a class="headerlink" href="#integrated-deployment" title="Permanent link">#</a></h4>
<p>Deploy Lock Server embedded within Jans Auth Server:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Jans Auth Server configuration</span>
<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">jans-auth</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">janssenproject/jans-auth-server:latest</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">JANS_LOCK_SERVER_ENABLED=true</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">JANS_LOCK_SERVER_POLICY_STORE_SOURCE=local</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">JANS_LOCK_SERVER_EMBEDDED_MODE=true</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./lock-server-config:/opt/jans/jetty/jans-auth/custom/lock-server</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./policy-stores:/opt/jans/lock-server/policy-stores</span>
</code></pre></div>
<h4 id="high-availability-setup">High Availability Setup<a class="headerlink" href="#high-availability-setup" title="Permanent link">#</a></h4>
<p>For production deployments requiring high availability:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># HA deployment with load balancer</span>
<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">nginx</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx:alpine</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:443&quot;</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./nginx.conf:/etc/nginx/nginx.conf</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./ssl:/etc/nginx/ssl</span>
<span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lock-server-1</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">lock-server-2</span>

<span class="w">  </span><span class="nt">lock-server-1</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">janssenproject/lock-server:latest</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LOCK_SERVER_INSTANCE_ID=lock-server-1</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LOCK_SERVER_REDIS_URL=redis://redis:6379</span>
<span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis</span>

<span class="w">  </span><span class="nt">lock-server-2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">janssenproject/lock-server:latest</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LOCK_SERVER_INSTANCE_ID=lock-server-2</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LOCK_SERVER_REDIS_URL=redis://redis:6379</span>
<span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis</span>

<span class="w">  </span><span class="nt">redis</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis:alpine</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis-server --appendonly yes</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis-data:/data</span>

<span class="nt">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">redis-data</span><span class="p">:</span>
</code></pre></div>
<h3 id="installation-steps">Installation Steps<a class="headerlink" href="#installation-steps" title="Permanent link">#</a></h3>
<ol>
<li><strong>Prerequisites</strong></li>
<li>Java 11 or higher</li>
<li>Jans Auth Server (for OAuth services)</li>
<li>
<p>Redis (for HA deployments)</p>
</li>
<li>
<p><strong>Download and Extract</strong>
   <div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://github.com/JanssenProject/jans/releases/latest/download/lock-server.tar.gz
tar<span class="w"> </span>-xzf<span class="w"> </span>lock-server.tar.gz
<span class="nb">cd</span><span class="w"> </span>lock-server
</code></pre></div></p>
</li>
<li>
<p><strong>Configure Environment</strong>
   <div class="highlight"><pre><span></span><code>cp<span class="w"> </span>config/lock-server.properties.template<span class="w"> </span>config/lock-server.properties
<span class="c1"># Edit configuration file with your settings</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Start Lock Server</strong>
   <div class="highlight"><pre><span></span><code>./bin/start-lock-server.sh
</code></pre></div></p>
</li>
</ol>
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">#</a></h2>
<h3 id="core-configuration-properties">Core Configuration Properties<a class="headerlink" href="#core-configuration-properties" title="Permanent link">#</a></h3>
<p>The Lock Server uses a properties file for configuration:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Lock Server Configuration</span>
<span class="na">lock.server.host</span><span class="o">=</span><span class="s">0.0.0.0</span>
<span class="na">lock.server.port</span><span class="o">=</span><span class="s">8080</span>
<span class="na">lock.server.context.path</span><span class="o">=</span><span class="s">/</span>

<span class="c1"># OAuth Configuration</span>
<span class="na">lock.server.oauth.issuer</span><span class="o">=</span><span class="s">https://auth.example.com</span>
<span class="na">lock.server.oauth.jwks.uri</span><span class="o">=</span><span class="s">https://auth.example.com/.well-known/jwks</span>
<span class="na">lock.server.oauth.token.validation.enabled</span><span class="o">=</span><span class="s">true</span>

<span class="c1"># Policy Store Configuration</span>
<span class="na">lock.server.policy.store.source</span><span class="o">=</span><span class="s">github</span>
<span class="na">lock.server.policy.store.github.repo</span><span class="o">=</span><span class="s">organization/policy-repo</span>
<span class="na">lock.server.policy.store.github.branch</span><span class="o">=</span><span class="s">main</span>
<span class="na">lock.server.policy.store.github.token</span><span class="o">=</span><span class="s">${GITHUB_TOKEN}</span>
<span class="na">lock.server.policy.store.cache.ttl</span><span class="o">=</span><span class="s">300</span>

<span class="c1"># Cedarling Configuration</span>
<span class="na">lock.server.cedarling.policy.store.uri</span><span class="o">=</span><span class="s">file:///opt/jans/lock-server/policies/lock-server-policies.json</span>
<span class="na">lock.server.cedarling.log.level</span><span class="o">=</span><span class="s">INFO</span>

<span class="c1"># Audit Configuration</span>
<span class="na">lock.server.audit.enabled</span><span class="o">=</span><span class="s">true</span>
<span class="na">lock.server.audit.storage</span><span class="o">=</span><span class="s">file</span>
<span class="na">lock.server.audit.file.path</span><span class="o">=</span><span class="s">/opt/jans/lock-server/logs/lock_server_audit.log</span>
<span class="na">lock.server.audit.rdbms.enabled</span><span class="o">=</span><span class="s">false</span>

<span class="c1"># Policy Update Configuration</span>
<span class="na">lock.server.policy.update.enabled</span><span class="o">=</span><span class="s">true</span>
<span class="na">lock.server.policy.update.check.interval</span><span class="o">=</span><span class="s">60</span>

<span class="c1"># Logging Configuration</span>
<span class="na">lock.server.log.level</span><span class="o">=</span><span class="s">INFO</span>
<span class="na">lock.server.log.config.file</span><span class="o">=</span><span class="s">/opt/jans/lock-server/logs/lock_server_config.log</span>
<span class="na">lock.server.log.jwt.status.file</span><span class="o">=</span><span class="s">/opt/jans/lock-server/logs/lock_server_jwt_status.log</span>
</code></pre></div>
<h3 id="policy-store-sources">Policy Store Sources<a class="headerlink" href="#policy-store-sources" title="Permanent link">#</a></h3>
<p>The Lock Server supports multiple policy store sources:</p>
<h4 id="github-repository">GitHub Repository<a class="headerlink" href="#github-repository" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="na">lock.server.policy.store.source</span><span class="o">=</span><span class="s">github</span>
<span class="na">lock.server.policy.store.github.repo</span><span class="o">=</span><span class="s">organization/policy-repo</span>
<span class="na">lock.server.policy.store.github.branch</span><span class="o">=</span><span class="s">main</span>
<span class="na">lock.server.policy.store.github.path</span><span class="o">=</span><span class="s">policy-stores/</span>
<span class="na">lock.server.policy.store.github.token</span><span class="o">=</span><span class="s">${GITHUB_TOKEN}</span>
</code></pre></div>
<h4 id="local-file-system">Local File System<a class="headerlink" href="#local-file-system" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="na">lock.server.policy.store.source</span><span class="o">=</span><span class="s">file</span>
<span class="na">lock.server.policy.store.file.path</span><span class="o">=</span><span class="s">/opt/jans/lock-server/policy-stores/</span>
<span class="na">lock.server.policy.store.file.watch.enabled</span><span class="o">=</span><span class="s">true</span>
</code></pre></div>
<h4 id="http-endpoint">HTTP Endpoint<a class="headerlink" href="#http-endpoint" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="na">lock.server.policy.store.source</span><span class="o">=</span><span class="s">http</span>
<span class="na">lock.server.policy.store.http.base.url</span><span class="o">=</span><span class="s">https://policy-server.example.com/api/v1/</span>
<span class="na">lock.server.policy.store.http.auth.type</span><span class="o">=</span><span class="s">bearer</span>
<span class="na">lock.server.policy.store.http.auth.token</span><span class="o">=</span><span class="s">${POLICY_SERVER_TOKEN}</span>
</code></pre></div>
<h2 id="rest-api-endpoints">REST API Endpoints<a class="headerlink" href="#rest-api-endpoints" title="Permanent link">#</a></h2>
<p>The Lock Server provides several REST API endpoints for different operations:</p>
<h3 id="policy-store-endpoints">Policy Store Endpoints<a class="headerlink" href="#policy-store-endpoints" title="Permanent link">#</a></h3>
<h4 id="get-policy-store">Get Policy Store<a class="headerlink" href="#get-policy-store" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="err">GET /policy-store/{id}</span>
<span class="err">Authorization: Bearer &lt;access_token&gt;</span>
</code></pre></div>
<p><strong>Response:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;cedar_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v4.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;policy_store&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Application Policy Store&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Policies for application authorization&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;policies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;trusted_issuers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<h4 id="list-policy-stores">List Policy Stores<a class="headerlink" href="#list-policy-stores" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="err">GET /policy-stores</span>
<span class="err">Authorization: Bearer &lt;access_token&gt;</span>
</code></pre></div>
<p><strong>Response:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;policy_stores&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;app-policies&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Application Policies&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Main application policy store&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.2.3&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T12:00:00Z&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="audit-endpoints">Audit Endpoints<a class="headerlink" href="#audit-endpoints" title="Permanent link">#</a></h3>
<h4 id="submit-audit-logs">Submit Audit Logs<a class="headerlink" href="#submit-audit-logs" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="err">POST /audit/logs</span>
<span class="err">Authorization: Bearer &lt;access_token&gt;</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;logs&quot;: [</span>
<span class="err">    {</span>
<span class="err">      &quot;request_id&quot;: &quot;req-123456&quot;,</span>
<span class="err">      &quot;timestamp&quot;: &quot;2024-01-01T12:00:00Z&quot;,</span>
<span class="err">      &quot;log_kind&quot;: &quot;Decision&quot;,</span>
<span class="err">      &quot;pdp_id&quot;: &quot;cedarling-001&quot;,</span>
<span class="err">      &quot;policy_store_id&quot;: &quot;app-policies&quot;,</span>
<span class="err">      &quot;decision&quot;: &quot;ALLOW&quot;,</span>
<span class="err">      &quot;principal&quot;: &quot;Jans::User::\&quot;user123\&quot;&quot;,</span>
<span class="err">      &quot;action&quot;: &quot;Jans::Action::\&quot;read\&quot;&quot;,</span>
<span class="err">      &quot;resource&quot;: &quot;Jans::Application::\&quot;app001\&quot;&quot;,</span>
<span class="err">      &quot;diagnostics&quot;: {</span>
<span class="err">        &quot;reason&quot;: [&quot;policy-001&quot;],</span>
<span class="err">        &quot;errors&quot;: []</span>
<span class="err">      },</span>
<span class="err">      &quot;decision_time_ms&quot;: 15</span>
<span class="err">    }</span>
<span class="err">  ]</span>
<span class="err">}</span>
</code></pre></div>
<h4 id="submit-health-status">Submit Health Status<a class="headerlink" href="#submit-health-status" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="err">POST /audit/health</span>
<span class="err">Authorization: Bearer &lt;access_token&gt;</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;pdp_id&quot;: &quot;cedarling-001&quot;,</span>
<span class="err">  &quot;timestamp&quot;: &quot;2024-01-01T12:00:00Z&quot;,</span>
<span class="err">  &quot;status&quot;: &quot;healthy&quot;,</span>
<span class="err">  &quot;policy_store_version&quot;: &quot;1.2.3&quot;,</span>
<span class="err">  &quot;uptime_seconds&quot;: 86400,</span>
<span class="err">  &quot;memory_usage_mb&quot;: 128,</span>
<span class="err">  &quot;cpu_usage_percent&quot;: 15.5</span>
<span class="err">}</span>
</code></pre></div>
<h4 id="submit-telemetry-data">Submit Telemetry Data<a class="headerlink" href="#submit-telemetry-data" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="err">POST /audit/telemetry</span>
<span class="err">Authorization: Bearer &lt;access_token&gt;</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;pdp_id&quot;: &quot;cedarling-001&quot;,</span>
<span class="err">  &quot;timestamp&quot;: &quot;2024-01-01T12:00:00Z&quot;,</span>
<span class="err">  &quot;metrics&quot;: {</span>
<span class="err">    &quot;total_requests&quot;: 1000,</span>
<span class="err">    &quot;successful_requests&quot;: 950,</span>
<span class="err">    &quot;failed_requests&quot;: 50,</span>
<span class="err">    &quot;average_response_time_ms&quot;: 12.5,</span>
<span class="err">    &quot;policy_evaluations&quot;: 1000,</span>
<span class="err">    &quot;cache_hits&quot;: 800,</span>
<span class="err">    &quot;cache_misses&quot;: 200</span>
<span class="err">  }</span>
<span class="err">}</span>
</code></pre></div>
<h3 id="well-known-configuration">Well-Known Configuration<a class="headerlink" href="#well-known-configuration" title="Permanent link">#</a></h3>
<h4 id="lock-server-configuration">Lock Server Configuration<a class="headerlink" href="#lock-server-configuration" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="err">GET /.well-known/lock-master-configuration</span>
</code></pre></div>
<p><strong>Response:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;issuer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://lock-server.example.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;policy_store_endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://lock-server.example.com/policy-store&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;policy_stores_endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://lock-server.example.com/policy-stores&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;audit_endpoint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://lock-server.example.com/audit&quot;</span><span class="p">,</span>

<span class="w">  </span><span class="nt">&quot;jwks_uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://auth.example.com/.well-known/jwks&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;scopes_supported&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;https://jans.io/oauth/lock/policy-store.read&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;https://jans.io/oauth/lock/log.write&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;https://jans.io/oauth/lock/health.write&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;https://jans.io/oauth/lock/telemetry.write&quot;</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;features_supported&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;policy-store-retrieval&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;audit-collection&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;health-monitoring&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;telemetry-collection&quot;</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="oauth-security">OAuth Security<a class="headerlink" href="#oauth-security" title="Permanent link">#</a></h2>
<h3 id="scope-based-access-control">Scope-Based Access Control<a class="headerlink" href="#scope-based-access-control" title="Permanent link">#</a></h3>
<p>The Lock Server uses OAuth 2.0 scopes to control access to different endpoints:</p>
<table>
<thead>
<tr>
<th>Scope</th>
<th>Endpoints</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>https://jans.io/oauth/lock/policy-store.read</code></td>
<td><code>/policy-store/*</code>, <code>/policy-stores</code></td>
<td>Read access to policy stores</td>
</tr>
<tr>
<td><code>https://jans.io/oauth/lock/log.write</code></td>
<td><code>/audit/logs</code></td>
<td>Submit authorization decision logs</td>
</tr>
<tr>
<td><code>https://jans.io/oauth/lock/health.write</code></td>
<td><code>/audit/health</code></td>
<td>Submit health status information</td>
</tr>
<tr>
<td><code>https://jans.io/oauth/lock/telemetry.write</code></td>
<td><code>/audit/telemetry</code></td>
<td>Submit telemetry and metrics data</td>
</tr>
</tbody>
</table>
<h2 id="logging-and-monitoring">Logging and Monitoring<a class="headerlink" href="#logging-and-monitoring" title="Permanent link">#</a></h2>
<h3 id="log-files">Log Files<a class="headerlink" href="#log-files" title="Permanent link">#</a></h3>
<p>The Lock Server generates several log files for different purposes:</p>
<h4 id="configuration-log-lock_server_configlog">Configuration Log (<code>lock_server_config.log</code>)<a class="headerlink" href="#configuration-log-lock_server_configlog" title="Permanent link">#</a></h4>
<p>Records configuration changes and system events:
<div class="highlight"><pre><span></span><code>2024-01-01 12:00:00 INFO  [ConfigService] Policy store configuration updated: app-policies
2024-01-01 12:01:00 INFO  [ConfigService] Trusted issuer added: enterprise_idp
2024-01-01 12:02:00 WARN  [ConfigService] Policy store cache miss for: test-policies
2024-01-01 12:03:00 ERROR [ConfigService] Failed to fetch policy store from GitHub: network timeout
</code></pre></div></p>
<h4 id="audit-log-lock_server_auditlog">Audit Log (<code>lock_server_audit.log</code>)<a class="headerlink" href="#audit-log-lock_server_auditlog" title="Permanent link">#</a></h4>
<p>Stores authorization decisions and audit events:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T12:00:00Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-123456&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;log_kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Decision&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;pdp_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cedarling-001&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;policy_store_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;app-policies&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;decision&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ALLOW&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;principal&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jans::User::\&quot;user123\&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jans::Action::\&quot;read\&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jans::Application::\&quot;app001\&quot;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;decision_time_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span>
<span class="p">}</span>
</code></pre></div></p>
<h4 id="jwt-status-log-lock_server_jwt_statuslog">JWT Status Log (<code>lock_server_jwt_status.log</code>)<a class="headerlink" href="#jwt-status-log-lock_server_jwt_statuslog" title="Permanent link">#</a></h4>
<p>Tracks JWT token validation and processing:
<div class="highlight"><pre><span></span><code>2024-01-01 12:00:00 INFO  [JWTValidator] Token validated successfully for client: client123
2024-01-01 12:01:00 WARN  [JWTValidator] Token expired for client: client456
2024-01-01 12:02:00 ERROR [JWTValidator] Invalid signature for token from issuer: https://malicious.com
</code></pre></div></p>
<h3 id="rdbms-audit-storage">RDBMS Audit Storage<a class="headerlink" href="#rdbms-audit-storage" title="Permanent link">#</a></h3>
<p>For enterprise deployments, audit logs can be stored in a relational database:</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">audit_logs</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">client_id</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">    </span><span class="n">request_id</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">    </span><span class="k">timestamp</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span>
<span class="w">    </span><span class="n">log_kind</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">    </span><span class="n">pdp_id</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">    </span><span class="n">policy_store_id</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">    </span><span class="n">decision</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">    </span><span class="n">principal</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="n">action</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="n">resource</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="k">diagnostics</span><span class="w"> </span><span class="n">JSON</span><span class="p">,</span>
<span class="w">    </span><span class="n">decision_time_ms</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span>
<span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_timestamp</span><span class="w"> </span><span class="p">(</span><span class="k">timestamp</span><span class="p">),</span>
<span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_client_id</span><span class="w"> </span><span class="p">(</span><span class="n">client_id</span><span class="p">),</span>
<span class="w">    </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_policy_store_id</span><span class="w"> </span><span class="p">(</span><span class="n">policy_store_id</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<h3 id="metrics-and-monitoring">Metrics and Monitoring<a class="headerlink" href="#metrics-and-monitoring" title="Permanent link">#</a></h3>
<p>The Lock Server exposes metrics for monitoring:</p>
<ul>
<li><strong>Policy Store Metrics</strong>: Cache hit/miss rates, fetch times, update frequencies</li>
<li><strong>Authorization Metrics</strong>: Request rates, decision times, success/failure ratios</li>
<li><strong>Client Metrics</strong>: Active connections, request patterns, error rates</li>
<li><strong>System Metrics</strong>: Memory usage, CPU utilization, response times</li>
</ul>
<h2 id="cli-management">CLI Management<a class="headerlink" href="#cli-management" title="Permanent link">#</a></h2>
<h3 id="jans-cli-commands">Jans CLI Commands<a class="headerlink" href="#jans-cli-commands" title="Permanent link">#</a></h3>
<p>The Lock Server can be managed using Jans CLI commands:</p>
<h4 id="policy-store-management">Policy Store Management<a class="headerlink" href="#policy-store-management" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># List policy stores</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-policy-stores

<span class="c1"># Get specific policy store</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-policy-store<span class="w"> </span>--url-suffix<span class="w"> </span><span class="s2">&quot;app-policies&quot;</span>

<span class="c1"># Update policy store configuration</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>put-lock-policy-store<span class="w"> </span>--url-suffix<span class="w"> </span><span class="s2">&quot;app-policies&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;source&quot;: &quot;github&quot;, &quot;repository&quot;: &quot;org/new-repo&quot;}&#39;</span>

<span class="c1"># Delete policy store</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>delete-lock-policy-store<span class="w"> </span>--url-suffix<span class="w"> </span><span class="s2">&quot;app-policies&quot;</span>
</code></pre></div>
<h4 id="client-management">Client Management<a class="headerlink" href="#client-management" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># List connected Cedarling clients</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-clients

<span class="c1"># Get client details</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-client<span class="w"> </span>--url-suffix<span class="w"> </span><span class="s2">&quot;client123&quot;</span>

<span class="c1"># Search clients by username</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-clients<span class="w"> </span>--query<span class="w"> </span><span class="s2">&quot;username=john.doe&quot;</span>

<span class="c1"># View client authorization activity</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-client-activity<span class="w"> </span>--url-suffix<span class="w"> </span><span class="s2">&quot;client123&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--query<span class="w"> </span><span class="s2">&quot;start_date=2024-01-01&amp;end_date=2024-01-31&quot;</span>
</code></pre></div>
<h4 id="metrics-and-monitoring_1">Metrics and Monitoring<a class="headerlink" href="#metrics-and-monitoring_1" title="Permanent link">#</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Get authorization metrics</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-metrics<span class="w"> </span>--query<span class="w"> </span><span class="s2">&quot;metric=authorization_requests&amp;period=daily&quot;</span>

<span class="c1"># Get system health</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-health

<span class="c1"># Get audit log summary</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-audit-summary<span class="w"> </span>--query<span class="w"> </span><span class="s2">&quot;start_date=2024-01-01&quot;</span>
</code></pre></div>
<h3 id="tui-interface">TUI Interface<a class="headerlink" href="#tui-interface" title="Permanent link">#</a></h3>
<p>The Text-based User Interface provides an interactive way to manage Lock Server:</p>
<ol>
<li><strong>Access TUI</strong>: <code>sudo /opt/jans/bin/jans-tui.py</code></li>
<li><strong>Navigate to Lock Server</strong>: <code>Lock Server</code> &gt; <code>Configuration</code></li>
<li><strong>Available Sections</strong>:</li>
<li>Policy Store Management</li>
<li>Client Registry</li>
<li>Audit Logs</li>
<li>System Metrics</li>
<li>Configuration Settings</li>
</ol>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">#</a></h2>
<h3 id="common-issues">Common Issues<a class="headerlink" href="#common-issues" title="Permanent link">#</a></h3>
<h4 id="policy-store-not-loading">Policy Store Not Loading<a class="headerlink" href="#policy-store-not-loading" title="Permanent link">#</a></h4>
<p><strong>Symptoms</strong>: Cedarling clients cannot retrieve policy stores
<strong>Causes</strong>:
- Invalid policy store source configuration
- Network connectivity issues
- Authentication failures with external sources</p>
<p><strong>Solutions</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># Check policy store configuration</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-policy-store-config

<span class="c1"># Test policy store connectivity</span>
curl<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer &lt;token&gt;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>https://lock-server.example.com/policy-store/app-policies

<span class="c1"># Check logs for errors</span>
tail<span class="w"> </span>-f<span class="w"> </span>/opt/jans/lock-server/logs/lock_server_config.log
</code></pre></div></p>
<h4 id="oauth-token-validation-failures">OAuth Token Validation Failures<a class="headerlink" href="#oauth-token-validation-failures" title="Permanent link">#</a></h4>
<p><strong>Symptoms</strong>: Clients receive 401 Unauthorized responses
<strong>Causes</strong>:
- Expired or invalid access tokens
- Incorrect JWKS URI configuration
- Clock synchronization issues</p>
<p><strong>Solutions</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># Verify JWKS URI configuration</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-oauth-config

<span class="c1"># Check JWT status logs</span>
tail<span class="w"> </span>-f<span class="w"> </span>/opt/jans/lock-server/logs/lock_server_jwt_status.log

<span class="c1"># Test token validation manually</span>
curl<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer &lt;token&gt;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>https://lock-server.example.com/.well-known/lock-master-configuration
</code></pre></div></p>
<h4 id="policy-update-issues">Policy Update Issues<a class="headerlink" href="#policy-update-issues" title="Permanent link">#</a></h4>
<p><strong>Symptoms</strong>: Cedarling clients not receiving latest policy updates
<strong>Causes</strong>:
- Policy store cache configuration issues
- Network connectivity problems
- Policy source synchronization failures</p>
<p><strong>Solutions</strong>:
<div class="highlight"><pre><span></span><code><span class="c1"># Check policy store cache status</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>get-lock-policy-cache-status

<span class="c1"># Force policy store refresh</span>
jans-cli<span class="w"> </span>--operation-id<span class="w"> </span>post-lock-policy-refresh<span class="w"> </span>--url-suffix<span class="w"> </span><span class="s2">&quot;app-policies&quot;</span>

<span class="c1"># Monitor policy update logs</span>
tail<span class="w"> </span>-f<span class="w"> </span>/opt/jans/lock-server/logs/lock_server_config.log
</code></pre></div></p>
<h3 id="performance-optimization">Performance Optimization<a class="headerlink" href="#performance-optimization" title="Permanent link">#</a></h3>
<h4 id="policy-store-caching">Policy Store Caching<a class="headerlink" href="#policy-store-caching" title="Permanent link">#</a></h4>
<ul>
<li>Increase cache TTL for stable policy stores</li>
<li>Use Redis for distributed caching in HA setups</li>
<li>Monitor cache hit rates and adjust accordingly</li>
</ul>
<h4 id="database-optimization">Database Optimization<a class="headerlink" href="#database-optimization" title="Permanent link">#</a></h4>
<ul>
<li>Create appropriate indexes for audit log queries</li>
<li>Implement log rotation and archival policies</li>
<li>Use connection pooling for database access</li>
</ul>
<h4 id="network-optimization">Network Optimization<a class="headerlink" href="#network-optimization" title="Permanent link">#</a></h4>
<ul>
<li>Use CDN for policy store distribution</li>
<li>Implement compression for large policy stores</li>
<li>Configure appropriate timeout values</li>
</ul>
<h2 id="security-considerations">Security Considerations<a class="headerlink" href="#security-considerations" title="Permanent link">#</a></h2>
<h3 id="production-deployment-security">Production Deployment Security<a class="headerlink" href="#production-deployment-security" title="Permanent link">#</a></h3>
<ol>
<li><strong>TLS Configuration</strong>: Always use HTTPS in production</li>
<li><strong>Token Security</strong>: Implement proper token rotation and validation</li>
<li><strong>Network Security</strong>: Use firewalls and network segmentation</li>
<li><strong>Audit Security</strong>: Protect audit logs from tampering</li>
<li><strong>Access Control</strong>: Implement least-privilege access principles</li>
</ol>
<h3 id="security-best-practices">Security Best Practices<a class="headerlink" href="#security-best-practices" title="Permanent link">#</a></h3>
<ul>
<li>Regular security updates and patches</li>
<li>Monitoring and alerting for security events</li>
<li>Regular audit log reviews</li>
<li>Secure backup and recovery procedures</li>
<li>Incident response planning</li>
</ul>
<h2 id="api-reference">API Reference<a class="headerlink" href="#api-reference" title="Permanent link">#</a></h2>
<p>For complete API documentation, see the <a href="https://gluu.org/swagger-ui/?url=https://raw.githubusercontent.com/JanssenProject/jans/refs/heads/main/jans-lock/lock-server.yaml">Lock Server OpenAPI Specification</a>.</p>
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link">#</a></h2>
<ul>
<li><strong><a href="../">Janssen Lock Overview</a></strong>: Complete Lock ecosystem documentation</li>
<li><strong><a href="../../../cedarling/">Cedarling Documentation</a></strong>: Client-side authorization engine</li>
<li><strong><a href="https://docs.cedarpolicy.com/">Cedar Policy Language</a></strong>: Official Cedar documentation</li>
<li><strong><a href="../../auth-server/oauth-features/">OAuth 2.0 Configuration</a></strong>: OAuth implementation details</li>
<li><strong><a href="../../config-guide/config-tools/jans-cli/">Jans CLI Reference</a></strong>: Command-line interface documentation</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="December 17, 2025 10:03:16 UTC"><span class="timeago" datetime="2025-12-17T10:03:16+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="December 17, 2025 10:03:16 UTC">2025-12-17</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="July 2, 2024 14:37:31 UTC"><span class="timeago" datetime="2024-07-02T14:37:31+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="July 2, 2024 14:37:31 UTC">2024-07-02</span>
  </span>

    
    
    
  </aside>





                

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026, The Janssen Project
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/JanssenProject/jans" target="_blank" rel="noopener" title="Janssen on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://jans.io/docs" target="_blank" rel="noopener" title="Janssen Website" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2C505.9 32 576 102 576 188.5c0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1C429.8 399.5 390 416 348.5 416 262.1 416 192 346 192 259.5c0-1.5 0-3 .1-4.5.5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9v2.6c0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zm-144.3 77.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1l-71.1 71.1C73.8 275.5 64 299.1 64 323.6c0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2C70.1 480.2 0 410.2 0 323.7c0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9v3.9c-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8v-2.3c0-33.7-18-63.3-44.8-79.6z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.prune", "navigation.path", "navigation.top", "navigation.instant", "navigation.instant.progress", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.code.copy", "content.code.select", "content.code.annotate", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "stable", "provider": "mike"}}</script>
    
    

      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../../javascripts/skeleton-loader.js"></script>
      
        <script src="../../../javascripts/full-screen-sections.js"></script>
      
    
<!--Release automation scripts should replace the placeholder with actual URL-->
<!--for Scarf pixel. This will be done when docs are released into PROD. Not-->
<!--when releasing for HEAD or nightly builds. This is to ensure that Scarf -->
<!--is only tracking the user behaviour on the PROD release docs. HEAD and -->
<!--nightly docs may be used extensively by development team and contributors-->
<!--for testing purposes-->
<img referrerpolicy="no-referrer-when-downgrade"
     src="https://static.scarf.sh/a.png?x-pxid=2c347abc-a9b4-4c4b-bdc9-2682edbcc0c9"
     width="0" height="0"/>


  </body>
</html>