

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Janssen Project Deployment and Operation References">
      
      
        <meta name="author" content="Janssen, Inc.">
      
      
        <link rel="canonical" href="https://docs.jans.io/nightly/script-catalog/scim/scim/">
      
      
        <link rel="prev" href="../../revoke_token/revoke-token/">
      
      
        <link rel="next" href="../../token_exchange/token-exchange/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/janssen_project_favicon_transparent_50px_50px.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>SCIM - Janssen Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../css/tabs.css">
    
      <link rel="stylesheet" href="../../../stylesheets/mermaid-extra.css">
    
      <link rel="stylesheet" href="../../../stylesheets/home.css">
    
      <link rel="stylesheet" href="../../../stylesheets/navigation.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#scim-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Janssen Documentation" class="md-header__button md-logo" aria-label="Janssen Documentation" data-md-component="logo">
      
  <img src="../../../assets/janssen_project.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Janssen Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SCIM
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/JanssenProject/jans/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
    
  
  Get Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../janssen-server/auth-server/" class="md-tabs__link">
          
  
  
    
  
  Integrate & Authenticate

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../janssen-server/config-guide/config-tools/jans-tui/" class="md-tabs__link">
          
  
  
    
  
  Configure Identity & Policies

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../janssen-server/auth-server/logging/" class="md-tabs__link">
          
  
  
    
  
  Test & Debug

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../janssen-server/planning/" class="md-tabs__link">
          
  
  
    
  
  Deploy & Operate

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../janssen-server/planning/components/" class="md-tabs__link">
          
  
  
    
  
  Architecture & Concepts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../CHANGELOG/" class="md-tabs__link">
          
  
  
    
  
  Product & Releases

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Janssen Documentation" class="md-nav__button md-logo" aria-label="Janssen Documentation" data-md-component="logo">
      
  <img src="../../../assets/janssen_project.svg" alt="logo">

    </a>
    Janssen Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/JanssenProject/jans/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../.." class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Get Started
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../janssen-server/auth-server/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Integrate & Authenticate
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Configure Identity & Policies
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configure Identity & Policies
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../../janssen-server/config-guide/config-tools/jans-tui/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Configuration Tools
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../janssen-server/auth-server/client-management/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Clients & Applications
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../janssen-server/auth-server/scopes/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Scopes & Claims
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../janssen-server/usermgmt/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    User Management
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../janssen-server/scim/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    SCIM
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" checked>
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Custom Scripts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Custom Scripts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../janssen-server/config-guide/custom-scripts-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../janssen-server/developer/scripts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Interception Scripts
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6_2" id="__nav_3_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Interception Scripts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../application_session/application-session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Application Session
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../authorization_challenge/authorization-challenge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authorization Challenge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../authz_detail/authz-detail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authorization Detail
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciba/ciba/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CIBA End User Notification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../client_registration/client-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../client_authn/client-authn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config_api/config-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Config API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../idp/idp-extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IDP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../consent_gathering/consent-gathering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Consent Gathering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dynamic_scope/dynamic-scope/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic Scope
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../end_session/end-session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    End Session
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../id_generator/id-generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ID Generator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../introspection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introspection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discovery/discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenID Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../persistence_extension/persistence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persistence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../person_authentication/person-authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Person Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../post_authn/post-authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Post Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource_owner_password_credentials/ropc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ROPC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../revoke_token/revoke-token/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Revoke Token
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    SCIM
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    SCIM
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes:
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Methods
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-modifying-search-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Modifying Search Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlling-execution-of-scim-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Controlling execution of SCIM operations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-more-than-one-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with more than one script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Use Cases
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-type-python" class="md-nav__link">
    <span class="md-ellipsis">
      
        Script Type: Python
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Script Type: Python">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-scim-event-handler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom SCIM Event Handler
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-type-java" class="md-nav__link">
    <span class="md-ellipsis">
      
        Script Type: Java
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Script Type: Java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-scim-event-handler_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom SCIM Event Handler
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../token_exchange/token-exchange/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Token Exchange
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access_evaluation/access-evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Access Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../access_evaluation/access-evaluation-discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Access Evaluation Discovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logout_status_jwt/logout-status-jwt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logout Status JWT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../par/par/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PAR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tx_token/txtoken/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transaction Token
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookie/cookie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cookie
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discovery/discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Discovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../select_account/select-account/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Select Account
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../spontaneous_scope/spontaneous-scope/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spontaneous Scope
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fido2_extension/fido2-extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fido2 Extension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../create_user/create-user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create User
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../health_check/health-check/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Health Check
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uma_rpt_claims/uma-claims-jwt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UMA Claims (JWT)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uma_claims_gathering/uma-claims-web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UMA Claims Gathering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uma_rpt_policy/uma-rpt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UMA RPT Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../update_token/update-token/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Update Token
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../link_interception/link-interception/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Link Interception
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ssa/ssa-modify-response/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SSA Modify Response
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../janssen-server/auth-server/config/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Auth Server Settings
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../casa/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Casa (Self-Service Portal)
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../janssen-server/auth-server/session-management/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Sessions
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../janssen-server/config-guide/smtp-configuration/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Additional Settings
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../../janssen-server/auth-server/logging/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Test & Debug
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../../janssen-server/planning/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Deploy & Operate
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../janssen-server/planning/components/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Architecture & Concepts
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../CHANGELOG/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    
  
    Product & Releases
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notes:
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interface
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Methods
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-modifying-search-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Modifying Search Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlling-execution-of-scim-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Controlling execution of SCIM operations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-more-than-one-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with more than one script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Use Cases
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-type-python" class="md-nav__link">
    <span class="md-ellipsis">
      
        Script Type: Python
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Script Type: Python">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-scim-event-handler" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom SCIM Event Handler
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-type-java" class="md-nav__link">
    <span class="md-ellipsis">
      
        Script Type: Java
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Script Type: Java">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-scim-event-handler_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom SCIM Event Handler
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
      
        
  
  
    
    
      
  
  
    
    
      
  
  
    
    
      <li class="md-path__item">
        <a href="../../../janssen-server/config-guide/config-tools/jans-tui/" class="md-path__link">
          
  <span class="md-ellipsis">
    Configure Identity & Policies
  </span>

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../../janssen-server/config-guide/custom-scripts-config/" class="md-path__link">
          
  <span class="md-ellipsis">
    Custom Scripts
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../../janssen-server/developer/scripts/" class="md-path__link">
          
  <span class="md-ellipsis">
    Interception Scripts
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
  
                  

  <nav class="md-tags" >
    
      
      
      
      
        <span class="md-tag">administration</span>
      
    
      
      
      
      
        <span class="md-tag">developer</span>
      
    
      
      
      
      
        <span class="md-tag">script-catalog</span>
      
    
  </nav>


  
  


<h1 id="scim-guide">SCIM Guide<a class="headerlink" href="#scim-guide" title="Permanent link">#</a></h1>
<p>SCIM script allows you to execute custom logic when certain SCIM API operations are invoked.</p>
<p>With SCIM scripts, custom business logic can be executed when several of the SCIM API operations are invoked. This is useful in many situations, for example:</p>
<ul>
<li>Trigger notifications to external systems when certain resources are deleted</li>
<li>Alter the actual responses the service produces</li>
<li>Attach additional information to resources when they are created or updated</li>
<li>Implement a fine-grained level of access to resources so different callers have permission to handle only a restricted number of resources</li>
</ul>
<h3 id="notes">Notes:<a class="headerlink" href="#notes" title="Permanent link">#</a></h3>
<p>In this document, the term resources refer to those "entities" the service can manage, for instance, users or groups
The term operation refers to any SCIM functionality accessible through its HTTP endpoints
Basic development skills are assumed. Some grasp of Java and Python are required as well as understanding of the SCIM protocol.</p>
<h2 id="interface">Interface<a class="headerlink" href="#interface" title="Permanent link">#</a></h2>
<h3 id="methods">Methods<a class="headerlink" href="#methods" title="Permanent link">#</a></h3>
<p><strong>API Overview</strong></p>
<p>Custom scripts adhere to a simple API (ie. a well-defined collection of methods/routines) that is described in the following. It is advised to check the dummy script provided <a href="https://github.com/IdentityMethods-UwarajWaman/jans/blob/docs-interception-script-updates/docs/script-catalog/scim/sample-script/SampleScript.py">here</a> as you read this section.</p>
<p><strong>Scripts' config properties</strong></p>
<p>All methods contain a <code>configurationAttributes</code> parameter, this gives access to the configuration properties of the script itself. This is a relevant aspect of Gluu scripts: they are all parameterizable!.</p>
<p><code>configurationAttributes</code> is a <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code> and <a href="https://github.com/JanssenProject/jans/blob/6c1caa1c4c92d28571f8589cd701e6885d4d85ef/jans-core/util/src/main/java/io/jans/model/SimpleCustomProperty.java">here</a> is how <code>SimpleCustomProperty</code> looks.</p>
<p><strong>Basic Methods</strong></p>
<p>These are methods not related to SCIM operations but still play key roles:
|Method Name|Description|Return Value|
|:---|:---|:---|
|<code>init</code>|Called when the (SCIM) service starts and every time the script properties or code changes|A boolean value describing success or failure|
|<code>destroy</code>|Called every time the script properties or code changes (called before <code>init</code>)|A boolean value describing success or failure|
|<code>getApiVersion</code>|Determines what methods are effectively called when SCIM endpoints are invoked|A positive integer|</p>
<p><strong>Pre-resource Modification</strong></p>
<p>They are called when the resource is about to be persisted. The second parameter in these methods hold the object that will be persisted to permanent storage, thus any change or manipulation upon the object will be reflected in the underlying database (as well as in the output of the SCIM operation call itself).</p>
<p>These methods are called regardless of the API version used. Names are self explanatory:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Methods</th>
<th style="text-align: left;">2nd param</th>
<th style="text-align: left;">2nd param Class/Link</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>createUser</code>, <code>updateUser</code>, <code>deleteUser</code></td>
<td style="text-align: left;"><code>user</code></td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-scim/model/src/main/java/io/jans/scim/model/scim/ScimCustomPerson.java">ScimCustomPerson</a></td>
</tr>
<tr>
<td style="text-align: left;"><code>createGroup</code>, <code>updateGroup</code>, <code>deleteGroup</code></td>
<td style="text-align: left;"><code>group</code></td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/6c1caa1c4c92d28571f8589cd701e6885d4d85ef/jans-scim/service/src/main/java/io/jans/scim/model/GluuGroup.java">GluuGroup</a></td>
</tr>
</tbody>
</table>
<p>Pre-resource modification methods return a boolean. A <code>False</code> value aborts the corresponding SCIM operation and a 500 error is returned. The same applies if the method execution crashes at runtime.</p>
<p>Note that <code>update*</code> methods are called for both SCIM PUT and PATCH operations.</p>
<p><strong>Post-resource Modification</strong></p>
<p>They are called after the resource is persisted. The second parameter in these methods hold the object that was saved. Any change or manipulation upon the object will not be reflected in the underlying database, but may still modify the service response.</p>
<p>These methods are called if <code>getApiVersion</code> returns a number &gt;= 2.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Methods</th>
<th style="text-align: left;">2nd param</th>
<th style="text-align: left;">2nd param Class/Link</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>postCreateUser</code>, <code>postUpdateUser</code>, <code>postDeleteUser</code></td>
<td style="text-align: left;"><code>user</code></td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-scim/model/src/main/java/io/jans/scim/model/scim/ScimCustomPerson.java">ScimCustomPerson</a></td>
</tr>
<tr>
<td style="text-align: left;"><code>postCreateGroup</code>, <code>postUpdateGroup</code>, <code>postDeleteGroup</code></td>
<td style="text-align: left;"><code>group</code></td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/6c1caa1c4c92d28571f8589cd701e6885d4d85ef/jans-scim/service/src/main/java/io/jans/scim/model/GluuGroup.java">GluuGroup</a></td>
</tr>
</tbody>
</table>
<p>Post-resource modification methods return a boolean. A <code>False</code> value aborts the corresponding SCIM operation and a 500 error is returned. The same applies if the method execution crashes at runtime.</p>
<p>Note that <code>postUpdate*</code> methods are called for both SCIM PUT and PATCH operations.</p>
<p><strong>Single Resource Retrieval</strong></p>
<p>These apply for SCIM operations that retrieve a resource by ID. They are called after the resource has been obtained from the database. The second parameter in these methods hold a reference to such object.</p>
<p>Any change or manipulation upon the object will not be reflected in the underlying database, but may still modify the service response.</p>
<p>These methods are called if <code>getApiVersion</code> returns a number &gt;= 3.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Methods</th>
<th style="text-align: left;">2nd param</th>
<th style="text-align: left;">2nd param Class/Link</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>getUser</code></td>
<td style="text-align: left;"><code>user</code></td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-scim/model/src/main/java/io/jans/scim/model/scim/ScimCustomPerson.java">ScimCustomPerson</a></td>
</tr>
<tr>
<td style="text-align: left;"><code>getGroup</code></td>
<td style="text-align: left;"><code>group</code></td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/6c1caa1c4c92d28571f8589cd701e6885d4d85ef/jans-scim/service/src/main/java/io/jans/scim/model/GluuGroup.java">GluuGroup</a></td>
</tr>
</tbody>
</table>
<p>Single resource retrieval methods return a boolean. A <code>False</code> value aborts the whole SCIM operation and a 500 error is returned. The same applies if the method execution crashes at runtime.</p>
<p><strong>Multiple Resources Retrieval</strong></p>
<p>These apply for SCIM search operations. They are called after the results have been obtained from the database. The second parameter in these methods hold a reference to such result set.</p>
<p>Any change or manipulation upon the object will not be reflected in the underlying database, but may still modify the service response.</p>
<p>These methods are called if <code>getApiVersion</code> returns a number &gt;= 4.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Methods</th>
<th style="text-align: left;">2nd param</th>
<th style="text-align: left;">2nd param Class/Link</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>postSearchUsers</code></td>
<td style="text-align: left;"><code>results</code></td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-orm/core/src/main/java/io/jans/orm/model/PagedResult.java">PagedResult</a></td>
</tr>
<tr>
<td style="text-align: left;"><code>postSearchGroups</code></td>
<td style="text-align: left;"><code>results</code></td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-orm/core/src/main/java/io/jans/orm/model/PagedResult.java">PagedResult</a></td>
</tr>
</tbody>
</table>
<p>Multiple resources retrieval methods return a boolean. A <code>False</code> value aborts the whole SCIM operation and a 500 error is returned. The same applies if the method execution crashes at runtime.</p>
<p>Note that searching using the root <code>.search</code> SCIM endpoint will trigger calls to both of the methods listed.</p>
<p><strong>Advanced control</strong></p>
<p>These are alternative methods that allow to tweak the response the service produces. They can be employed to introduce complex business rules when operations are executed.</p>
<p>These methods are called if <code>getApiVersion</code> returns a number &gt;= 5.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Methods</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>manageResourceOperation</code></td>
</tr>
<tr>
<td style="text-align: left;"><code>manageSearchOperation</code></td>
</tr>
</tbody>
</table>
<h3 id="example-modifying-search-results">Example: Modifying Search Results<a class="headerlink" href="#example-modifying-search-results" title="Permanent link">#</a></h3>
<p>SCIM spec defines the concept of attribute returnability where some attributes should never be part of a response (like passwords), always be returned (like resource identifiers), or be returned by default unless otherwise stated by the <code>excludedAttributes</code> parameter.</p>
<p>Assume you are maintaining a user base of secret agents that work for your company and need to avoid exposing information such as their physical addresses for safety reasons. To keep it simple let's restrict the scope to user searches only. In practice you should take steps to hide this data on user retrieval and update.</p>
<p>Let's alter <code>postSearchUsers</code>'s second parameter (<code>results</code>) to ensure addresses are not leaked:</p>
<div class="codehilite"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="nv">user</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">results</span>.<span class="nv">getEntries</span><span class="ss">()</span>:
<span class="w">    </span><span class="nv">user</span>.<span class="nv">setAttribute</span><span class="ss">(</span><span class="s2">&quot;jansAddress&quot;</span>,<span class="w"> </span><span class="nv">None</span><span class="ss">)</span>
</code></pre></div>

<p>This is very straightforward code except for the usage of <code>jansAddress</code>. Shouldn't it be simply <code>addresses</code> as the known SCIM attribute?</p>
<p>Scripts work with entities that are about to be persisted or have already been saved so they resemble the database structure (schema in MySQL terms). It turns out that database attribute names rarely match with SCIM names.</p>
<p>While it is easy to know the SCIM name of a database attribute, the converse requires checking the code, however since you already have the skill this shouldn't be a problem: in <a href="https://github.com/JanssenProject/jans/blob/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-scim/model/src/main/java/io/jans/scim/model/scim2/user/UserResource.java">this</a> Java class you'll find the representation of a user resource in SCIM spec terms. Pay attention to the <code>addresses</code> field and its associated <code>StoreReference</code> annotation that contains the attribute where addresses are actually stored.</p>
<p>With that said, save your modifications. You may like the idea of adding some prints for enlightment like:</p>
<div class="codehilite"><pre><span></span><code><span class="nx">print</span><span class="w"> </span><span class="s">&quot;%d entries returned of %d&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">getEntriesCount</span><span class="p">(),</span><span class="w"> </span><span class="nx">results</span><span class="p">.</span><span class="nx">getTotalEntriesCount</span><span class="p">())</span>
<span class="k">for</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nx">results</span><span class="p">.</span><span class="nx">getEntries</span><span class="p">():</span>
<span class="w">    </span><span class="nx">print</span><span class="w"> </span><span class="s">&quot;Flushing addresses for user %s&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="nx">user</span><span class="p">.</span><span class="nx">getUid</span><span class="p">()</span><span class="w"> </span>
<span class="w">    </span><span class="nx">user</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s">&quot;jansAddress&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">None</span><span class="p">)</span>
</code></pre></div>

<p>Ensure no addresses are returned anymore in your SCIM user searches. Happy testing!</p>
<h3 id="controlling-execution-of-scim-operations">Controlling execution of SCIM operations<a class="headerlink" href="#controlling-execution-of-scim-operations" title="Permanent link">#</a></h3>
<p>With the <code>manageResourceOperation</code> and <code>manageSearchOperation</code> methods you can make complex decisions on how processing should take place based on contextual data and the incoming payload.</p>
<p><strong>manageResourceOperation</strong></p>
<p>This method is invoked when any following operations are executed: resource creation, modification, removal and retrieval by ID. In case of bulks, the method is called for every operation that fits into these categories.</p>
<p>Parameters are described in the table below:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Class/Link</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>context</code></td>
<td style="text-align: left;">Provides contextual information about the SCIM operation being called such as type of resource involved, HTTP verb, request headers, query params, etc.</td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/6c1caa1c4c92d28571f8589cd701e6885d4d85ef/jans-scim/server/src/main/java/io/jans/scim/service/external/OperationContext.java">OperationContext</a></td>
</tr>
<tr>
<td style="text-align: left;"><code>entity</code></td>
<td style="text-align: left;">A non-null object representing the resource involved</td>
<td style="text-align: left;">A descendant of <a href="https://github.com/JanssenProject/jans/blob/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-orm/model/src/main/java/io/jans/orm/model/base/Entry.java">Entry</a>. If the resource is a user, it will be an instance of <a href="https://github.com/JanssenProject/jans/blob/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-scim/model/src/main/java/io/jans/scim/model/scim/ScimCustomPerson.java">ScimCustomPerson</a>. In case of a group, it will be a <a href="https://github.com/JanssenProject/jans/blob/6c1caa1c4c92d28571f8589cd701e6885d4d85ef/jans-scim/service/src/main/java/io/jans/scim/model/GluuGroup.java">GluuGroup</a></td>
</tr>
<tr>
<td style="text-align: left;"><code>payload</code></td>
<td style="text-align: left;">The payload sent in the invocation; <code>null</code> when the operation is removal or retrieval by ID</td>
<td style="text-align: left;">The datatype depends on the operation called. Check the <a href="https://github.com/JanssenProject/jans/tree/6c1caa1c4c92d28571f8589cd701e6885d4d85ef/jans-scim/server/src/main/java/io/jans/scim/ws/rs/scim2">interface</a> that suits best and inspect the first parameter's datatype. The class will belong to some subpackage inside <a href="https://github.com/JanssenProject/jans/tree/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-scim/model/src/main/java/io/jans/scim/model/scim2">io.jans.scim.model.scim2</a></td>
</tr>
</tbody>
</table>
<p>This method is expected to return an instance of <code>javax.ws.rs.core.Response</code> that supersedes the output of the operation itself. In other words, the actual processing of the operation is skipped in favor of the code supplied here. However note that minor validations may take place in the payload before your code is actually called.</p>
<p>Returning <code>None</code> transfers the control of the operation for normal processing (default Jans implementation). If the method execution crashes at runtime, a 500 HTTP error is sent.</p>
<p><strong>Notes:</strong></p>
<ul>
<li>Possible values for <code>context.getResourceType()</code> are: User, Group, FidoDevice, Fido2Device</li>
<li><code>context.getTokenDetails().getValue()</code> is a shortcut that will give you the access token the caller employed to issue the service call</li>
<li>Both <code>context.getTokenDetails().getTokenType()</code> and <code>context.getTokenDetails().getScope()</code> return non-null values when the protection mechanism of the API is OAuth or test mode</li>
<li>Note that for resource creation operation, <code>entity</code> basically contains the same data supplied in the POST <code>payload</code>. In this case, <code>entity</code> has not originated from the database and has not been persisted either</li>
<li>For the case of modification, retrieval and removal, <code>entity</code> contains the data currently stored in the database for the resource in question</li>
<li>Since many values come from Java code, you can always do <code>getClass().getName()</code> to get an idea of what type of variables you are dealing with</li>
<li>To build custom error responses your can reuse some of the <code>getErrorResponse</code> methods of class <a href="https://github.com/JanssenProject/jans/blob/6c1caa1c4c92d28571f8589cd701e6885d4d85ef/jans-scim/server/src/main/java/io/jans/scim/ws/rs/scim2/BaseScimWebService.java">BaseScimWebService</a></li>
</ul>
<p>This method offers a high degree of flexibility. Perform careful testing of your code and account all potential scenarios.</p>
<p><strong>manageSearchOperation</strong></p>
<p>This method is invoked when resource searches are performed. Parameters are described in the table below:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">name</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Class/Link</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>context</code></td>
<td style="text-align: left;">Provides contextual information about the SCIM operation being called such as type of resource involved, HTTP verb, request headers, query params, etc.</td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/6c1caa1c4c92d28571f8589cd701e6885d4d85ef/jans-scim/server/src/main/java/io/jans/scim/service/external/OperationContext.java">OperationContext</a></td>
</tr>
<tr>
<td style="text-align: left;"><code>searchRequest</code></td>
<td style="text-align: left;">An object representing the search parameters provided in the call (applies for both GET and POST)</td>
<td style="text-align: left;"><a href="https://github.com/JanssenProject/jans/blob/1753d430037f623cfc11b99ceaa5d172676d9ecb/jans-scim/model/src/main/java/io/jans/scim/model/scim2/SearchRequest.java">SearchRequest</a></td>
</tr>
</tbody>
</table>
<p>Unlike <code>manageResourceOperation</code>, no <code>entity</code> parameter is passed. This is so because making decisions based on already executed searches would have a performance impact. Instead you can use <code>context.setFilterPrepend(...)</code> to help restrict the search against the database: here you can pass a String value that will be interpreted as an SCIM filter expression (see section 3.4.2.2 of RFC 7644). When the search being performed already contains a search filter (i.e. <code>searchRequest.getFilter()</code>is non-empty), a new filter is created by appending both "subfilters" with an <code>and</code> operator.</p>
<p>As in the case of <code>manageResourceOperation</code> this method is expected to return an instance of <code>javax.ws.rs.core.Response</code>.</p>
<p>Returning <code>None</code> transfers the control of the operation for normal processing (the Jans implementation). If the method execution crashes at runtime, a 500 HTTP error is sent.</p>
<p>The same recommendations given for <code>manageResourceOperation</code> apply here. If you build filter expressions in your method, ensure they are syntactically valid to avoid your callers getting unexpected "invalidFilter" 400 errors.</p>
<p><strong>Example: segmenting the user base</strong></p>
<p>Let's assume you make use of the SCIM attribute <code>userType</code> so that your user base is partitioned into three disjoint segments according to such attribute and you have designated its possible values to be: Contractor, Employee, or Intern.</p>
<p>Suppose your company has three different applications that make management of users in every category, that is, only one application is devoted to manage contractors, another employees, and other interns. You are interested in consistently granting access so that no application can create, query or modify users that don't belong to its focus.</p>
<p>To properly handle this multi-tenancy scenario, you decide to use the contextual information coming from every request to determine if the operation should be allowed or not. For this purpose you communicate every application developer to send an additional HTTP header in their call with a value that only you (the administrator) and the developer knows. Let's call it the "secret". For the sake of simplicity let's assume developers are external to the company and only you know their identities. They don't know each other so they cannot exchange secrets.</p>
<p>The strategy to implement segmentation is rather simple:</p>
<ul>
<li>
<p>Alter the default SCIM script by supplying a custom implementation for the methods that control execution</p>
</li>
<li>
<p>Make the HTTP header name be a configuration property of the script so that it is not hard-coded</p>
</li>
<li>
<p>Add a configuration property that contains the mapping of <code>userType</code> value vs. expected header value in JSON format</p>
</li>
</ul>
<p><strong>Adding and parsing config properties</strong></p>
<p>Using Jans Config CLI update the SCIM script and add properties:</p>
<ul>
<li><code>custom_header</code> with value <code>USER-SEGMENT-SECRET</code></li>
<li><code>access_map</code> with value <code>{ "&lt;random_string&gt;":"Contractor", "&lt;random_string&gt;":"Employee", "&lt;random_string&gt;":"Intern" }</code></li>
</ul>
<p>Save the changes.</p>
<p>In the <code>init</code> method this properties should be parsed. To start, let's add some imports:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">io.jans.scim.ws.rs.scim2</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseScimWebService</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</code></pre></div>

<p>Here is how <code>init</code> would look like:</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">configurationAttributes</span><span class="p">):</span>
<span class="w">    </span><span class="bp">self</span><span class="o">.</span><span class="n">custom_header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">configurationAttributes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;custom_header&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">getValue2</span><span class="p">()</span>
<span class="w">    </span><span class="n">access_map_json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">configurationAttributes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;access_map&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">getValue2</span><span class="p">()</span><span class="w">    </span>
<span class="w">    </span><span class="bp">self</span><span class="o">.</span><span class="n">access_map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">access_map_json</span><span class="p">)</span>
<span class="w">    </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;ScimEventHandler (init): Initialized successfully&quot;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">True</span>
</code></pre></div>

<p>Note no validations took place here: we assumed the script contains the properties, that they are non-empty and have sensible values.</p>
<p><strong>Allow/Deny resource operations</strong></p>
<p>The first step is to know the kind of application that is calling our service. For this purpose let's create a method that given incoming request headers returns the matching <code>userType</code></p>
<div class="codehilite"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="n">headers</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">MultivaluedMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span>
<span class="n">def</span><span class="w"> </span><span class="n">getUserType</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">headers</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">secret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">headers</span><span class="p">.</span><span class="n">getFirst</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">custom_header</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">secret</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">access_map</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">access_map</span><span class="o">[</span><span class="n">secret</span><span class="o">]</span>
<span class="w">    </span><span class="k">else</span><span class="err">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">None</span>
</code></pre></div>

<p>Now let's code <code>manageResourceOperation</code>. We should allow access only under the following conditions:</p>
<ul>
<li>The <code>getUserType</code> method does not return <code>None</code></li>
<li>The entity object (<code>ScimCustomPerson</code> instance) has a proper <code>userType</code> value. This means that for user creation, the incoming payload comes with a matching <code>userType</code> and for the other cases, the already stored attribute matches as well</li>
</ul>
<p>Assume that if the operation invoked is not user-related, we should allow access freely. Here is how the implementation might look:</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">manageResourceOperation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">entity</span><span class="p">,</span><span class="w"> </span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="n">configurationAttributes</span><span class="p">):</span>

<span class="w">    </span><span class="nb">print</span><span class="w"> </span><span class="s2">&quot;manageResourceOperation. SCIM endpoint invoked is </span><span class="si">%s</span><span class="s2"> (HTTP </span><span class="si">%s</span><span class="s2">)&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">getPath</span><span class="p">(),</span><span class="w"> </span><span class="n">context</span><span class="o">.</span><span class="n">getMethod</span><span class="p">())</span><span class="w"> </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">context</span><span class="o">.</span><span class="n">getResourceType</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">&quot;User&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">None</span>

<span class="w">    </span><span class="n">expected_user_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">getUserType</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">getRequestHeaders</span><span class="p">())</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">expected_user_type</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">None</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">entity</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s2">&quot;jansUsrTyp&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">expected_user_type</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">None</span>
<span class="w">    </span><span class="k">else</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">BaseScimWebService</span><span class="o">.</span><span class="n">getErrorResponse</span><span class="p">(</span><span class="mi">403</span><span class="p">,</span><span class="w"> </span><span class="n">None</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Attempt to handle a not allowed user type&quot;</span><span class="p">)</span>
</code></pre></div>

<p><br/>Note no usage of the payload took place. A case you may like to evaluate is where mistakenly using an update operation, the <code>userType</code> is set to an unexpected value.</p>
<p><strong>Allow/Deny searches</strong></p>
<p>This time instead of inspecting an entity, we ought to make a filter expression to restrict the search when the database is queried. For your reference, a valid filter expression is for instance <code>userType eq "Contractor"</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="nx">def</span><span class="w"> </span><span class="nx">manageSearchOperation</span><span class="p">(</span><span class="kp">self</span><span class="p">,</span><span class="w"> </span><span class="nx">context</span><span class="p">,</span><span class="w"> </span><span class="nx">searchRequest</span><span class="p">,</span><span class="w"> </span><span class="nx">configurationAttributes</span><span class="p">):</span>

<span class="w">    </span><span class="nx">print</span><span class="w"> </span><span class="s">&quot;manageSearchOperation. SCIM endpoint invoked is %s (HTTP %s)&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">getPath</span><span class="p">(),</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">getMethod</span><span class="p">())</span>

<span class="w">    </span><span class="nx">resource_type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">getResourceType</span><span class="p">()</span>
<span class="w">    </span><span class="nx">print</span><span class="w"> </span><span class="s">&quot;manageSearchOperation. This is a search over %s resources&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="nx">resource_type</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">resource_type</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;User&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">None</span>

<span class="w">    </span><span class="nx">expected_user_type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kp">self</span><span class="p">.</span><span class="nx">getUserType</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">getRequestHeaders</span><span class="p">())</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">expected_user_type</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nx">None</span><span class="p">:</span>
<span class="w">        </span><span class="nx">context</span><span class="p">.</span><span class="nx">setFilterPrepend</span><span class="p">(</span><span class="s">&quot;userType eq \&quot;%s\&quot;&quot;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="nx">expected_user_type</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">None</span>
<span class="w">    </span><span class="k">else</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">BaseScimWebService</span><span class="p">.</span><span class="nx">getErrorResponse</span><span class="p">(</span><span class="mi">403</span><span class="p">,</span><span class="w"> </span><span class="nx">None</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Attempt to handle a not allowed user type&quot;</span><span class="p">)</span>
</code></pre></div>

<p>The <code>manageSearchOperation</code> must return a <code>javax.ws.rs.core.Response</code>. A <code>None</code> value makes continue the operation processing normally.</p>
<h2 id="working-with-more-than-one-script">Working with more than one script<a class="headerlink" href="#working-with-more-than-one-script" title="Permanent link">#</a></h2>
<p>You may have already noticed that it is possible to have several scripts under the SCIM type. This is how execution takes place when there are several scripts enabled:</p>
<p>The applicable method is called in the first script. If the return value was <code>True</code>, the method is called again but this time in the subsequent script. If at any point a <code>False</code> return value is encountered, the SCIM operation is aborted with error 500. This means that a normal operation execution requires all involved methods across different scripts to be successful.</p>
<p>There is an important exception to the above and is related to the <code>manage*</code> methods. In this case, only one script takes effect (the first script found). Note that in most cases having a single SCIM script suffices for all needs.</p>
<h2 id="common-use-cases">Common Use Cases<a class="headerlink" href="#common-use-cases" title="Permanent link">#</a></h2>
<h2 id="script-type-python">Script Type: Python<a class="headerlink" href="#script-type-python" title="Permanent link">#</a></h2>
<h3 id="custom-scim-event-handler">Custom SCIM Event Handler<a class="headerlink" href="#custom-scim-event-handler" title="Permanent link">#</a></h3>
<p>The sample code snippet shows how to:</p>
<ol>
<li>Modify Search Results</li>
<li>Segment the user base</li>
<li>Allow/Deny resource operations</li>
<li>Allow/Deny searches</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">--</span><span class="mi">8</span><span class="o">&lt;--</span> <span class="s2">&quot;script-catalog/scim/sample-script/custom_scim_handler.py&quot;</span>
</code></pre></div>
<h2 id="script-type-java">Script Type: Java<a class="headerlink" href="#script-type-java" title="Permanent link">#</a></h2>
<h3 id="custom-scim-event-handler_1">Custom SCIM Event Handler<a class="headerlink" href="#custom-scim-event-handler_1" title="Permanent link">#</a></h3>
<p>The sample code snippet shows how to:</p>
<ol>
<li>Modify Search Results</li>
<li>Segment the user base</li>
<li>Allow/Deny resource operations</li>
<li>Allow/Deny searches</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">--</span><span class="mi">8</span><span class="o">&lt;--</span><span class="w"> </span><span class="s">&quot;script-catalog/scim/sample-script/custom_scim_handler.java&quot;</span>
</code></pre></div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="February 3, 2026 10:53:22 UTC"><span class="timeago" datetime="2026-02-03T10:53:22+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="February 3, 2026 10:53:22 UTC">2026-02-03</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="May 18, 2022 19:22:10 UTC"><span class="timeago" datetime="2022-05-18T19:22:10+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="May 18, 2022 19:22:10 UTC">2022-05-18</span>
  </span>

    
    
    
  </aside>





                

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025, The Janssen Project
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/JanssenProject/jans" target="_blank" rel="noopener" title="Janssen on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://jans.io/docs" target="_blank" rel="noopener" title="Janssen Website" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M419.5 96c-16.6 0-32.7 4.5-46.8 12.7-15.8-16-34.2-29.4-54.5-39.5 28.2-24 64.1-37.2 101.3-37.2C505.9 32 576 102 576 188.5c0 41.5-16.5 81.3-45.8 110.6l-71.1 71.1C429.8 399.5 390 416 348.5 416 262.1 416 192 346 192 259.5c0-1.5 0-3 .1-4.5.5-17.7 15.2-31.6 32.9-31.1s31.6 15.2 31.1 32.9v2.6c0 51.1 41.4 92.5 92.5 92.5 24.5 0 48-9.7 65.4-27.1l71.1-71.1c17.3-17.3 27.1-40.9 27.1-65.4 0-51.1-41.4-92.5-92.5-92.5zm-144.3 77.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5 0-48 9.7-65.4 27.1l-71.1 71.1C73.8 275.5 64 299.1 64 323.6c0 51.1 41.4 92.5 92.5 92.5 16.5 0 32.6-4.4 46.7-12.6 15.8 16 34.2 29.4 54.6 39.5-28.2 23.9-64 37.2-101.3 37.2C70.1 480.2 0 410.2 0 323.7c0-41.5 16.5-81.3 45.8-110.6l71.1-71.1c29.3-29.3 69.1-45.8 110.6-45.8 86.6 0 156.5 70.6 156.5 156.9v3.9c-.4 17.7-15.1 31.6-32.8 31.2s-31.6-15.1-31.2-32.8v-2.3c0-33.7-18-63.3-44.8-79.6z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.prune", "navigation.path", "navigation.top", "navigation.instant", "navigation.instant.progress", "search.suggest", "search.highlight", "search.share", "content.tabs.link", "content.code.copy", "content.code.select", "content.code.annotate", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "stable", "provider": "mike"}}</script>
    
    

      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../../javascripts/skeleton-loader.js"></script>
      
        <script src="../../../javascripts/full-screen-sections.js"></script>
      
    
<!--Release automation scripts should replace the placeholder with actual URL-->
<!--for Scarf pixel. This will be done when docs are released into PROD. Not-->
<!--when releasing for HEAD or nightly builds. This is to ensure that Scarf -->
<!--is only tracking the user behaviour on the PROD release docs. HEAD and -->
<!--nightly docs may be used extensively by development team and contributors-->
<!--for testing purposes-->
<img referrerpolicy="no-referrer-when-downgrade"
     src="https://static.scarf.sh/a.png?x-pxid=2c347abc-a9b4-4c4b-bdc9-2682edbcc0c9"
     width="0" height="0"/>

  </body>
</html>