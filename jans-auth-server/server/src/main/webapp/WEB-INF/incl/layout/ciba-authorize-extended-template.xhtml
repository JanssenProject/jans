<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="/WEB-INF/incl/layout/ciba-authorize-template.xhtml">

    <ui:define name="head">
        <style type="text/css">
        </style>
    </ui:define>

    <ui:define name="pageTitle">
        <h:outputText value="#{msgs['authorize.pageTitle']}"/>
    </ui:define>

    <ui:define name="body" class="notification_cls">
        <h:form id="authorizeForm">
            <ui:param name="client" value='#{_client}'/>

            <div class="notification_popup">
                <div class="not_header">
                    <div class="row">
                        <div class="col-md-5">
                            <h:panelGroup layout="block" rendered='#{empty client.logoUri}'>
                                <object data="/ext/resources/img/logo.png" type="image/png">
                                    <img src="../img/logo.png" alt="Logo"/>
                                </object>
                            </h:panelGroup>
                        </div>
                    </div>
                </div>
                <div class="not_body">
                    <h3>
                        <h:outputText value="#{msgs['authorize.requestForPermission']}"/>
                    </h3>

                    <h:panelGroup layout="block" class="border_rad"
                                  rendered='#{!empty client.getLogoUri()}'>
                        <h:graphicImage url='#{client.getLogoUri()}' width="65px" height="65px"/>
                    </h:panelGroup>

                    <h3 class="info">
                        <h:outputFormat value="#{msgs['authorize.requestingPermissionForScopes']}">
                            <f:param
                                    value="#{empty client.getClientName()? client.getClientId() : client.getClientName()}"/>
                        </h:outputFormat>
                    </h3>

                    <ul>
                        <ui:fragment rendered="#{_scopes != null}">
                            <ui:repeat var="_scope" value="#{_scopes}">
                                <li>
                                    <table>
                                        <tr>
                                            <td>
                                                <span class="user">
                                                    <i class="fa fa-user-circle"></i>
                                                </span>
                                            </td>
                                            <td>
                                                <h:outputText value="#{_scope.description}"/>
                                            </td>
                                        </tr>
                                    </table>
                                </li>
                            </ui:repeat>
                        </ui:fragment>
                    </ul>

                    <h:panelGroup layout="block" rendered='#{!empty client.getPolicyUri()}'>
                        <p>
                            <h:outputText value="#{msgs['common.agreePolicy']}"/>
                            <a target="_blank" href='#{client.getPolicyUri()}'>
                                <h:outputText value="#{msgs['common.privacyPolicy']}"/>
                            </a>
                        </p>
                    </h:panelGroup>

                    <h:panelGroup layout="block" rendered='#{!empty client.getTosUri()}'>
                        <p>
                            <h:outputText value="#{msgs['common.pleaseReadTheTos']}"/>
                            <a target="_blank" href='#{client.getTosUri()}'>
                                <h:outputText value="#{msgs['common.termsOfService']}"/>
                            </a>
                        </p>
                    </h:panelGroup>

                    <div class="btn_rw">
                        <ui:insert name="controlButttons"/>
                    </div>
                </div>
                <center>
                    #{msgs['common.copyright']} <a href="http://www.gluu.org" target="_blank">
                    Gluu</a>. #{msgs['common.allRightsReserved']}
                </center>
            </div>
        </h:form>
    </ui:define>
</ui:composition>