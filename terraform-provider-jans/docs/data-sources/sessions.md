---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "jans_sessions Data Source - jans"
subcategory: ""
description: |-
  Data source for retrieving active user sessions from Janssen server.
  This data source allows you to list all active user sessions in the Janssen authorization server.
  Sessions contain information about authenticated users, their authentication time, involved clients,
  and session state.
  Example Usage
  
  # List all active sessions
  data "jans_sessions" "active_sessions" {}
  
  # Output session count
  output "session_count" {
    value = length(data.jans_sessions.active_sessions.sessions)
  }
  
  # Filter sessions for specific user
  output "user_sessions" {
    value = [
      for session in data.jans_sessions.active_sessions.sessions :
      session if can(regex("inum=admin", session.user_dn))
    ]
  }
  
  OAuth Scopes Required
  https://jans.io/oauth/jans-auth-server/session.readonly
---

# jans_sessions (Data Source)

Data source for retrieving active user sessions from Janssen server.

This data source allows you to list all active user sessions in the Janssen authorization server.
Sessions contain information about authenticated users, their authentication time, involved clients,
and session state.

## Example Usage

```hcl
# List all active sessions
data "jans_sessions" "active_sessions" {}

# Output session count
output "session_count" {
  value = length(data.jans_sessions.active_sessions.sessions)
}

# Filter sessions for specific user
output "user_sessions" {
  value = [
    for session in data.jans_sessions.active_sessions.sessions :
    session if can(regex("inum=admin", session.user_dn))
  ]
}
```

## OAuth Scopes Required

- `https://jans.io/oauth/jans-auth-server/session.readonly`

## Example Usage

```terraform
# Configure the Janssen Provider
terraform {
  required_providers {
    jans = {
      source = "jans/jans"
    }
  }
}

provider "jans" {
  url           = "https://moabu-noble-sawfish.gluu.info"
  client_id     = var.client_id
  client_secret = var.client_secret
  insecure_client = true  # Only for development/testing
}

# Data source to list all active user sessions
data "jans_sessions" "active_sessions" {}

# Output the sessions
output "active_sessions" {
  value = data.jans_sessions.active_sessions.sessions
}

# Output session count
output "session_count" {
  value = length(data.jans_sessions.active_sessions.sessions)
}

# Output sessions for a specific user
output "user_sessions" {
  value = [
    for session in data.jans_sessions.active_sessions.sessions :
    session if can(regex("inum=admin", session.user_dn))
  ]
  description = "Sessions for admin user"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Read-Only

- `id` (String) The ID of this resource.
- `sessions` (List of Object) List of active sessions (see [below for nested schema](#nestedatt--sessions))

<a id="nestedatt--sessions"></a>
### Nested Schema for `sessions`

Read-Only:

- `authentication_time` (String)
- `creation_date` (String)
- `device_secrets` (List of String)
- `dn` (String)
- `id` (String)
- `involved_clients_ids` (List of String)
- `jans_id` (String)
- `last_used_at` (String)
- `permission_granted` (Boolean)
- `session_state` (String)
- `sid` (String)
- `state` (String)
- `user_dn` (String)
