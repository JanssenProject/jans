<!--  
    This software is available under the Apache-2.0 license.  
    See https://www.apache.org/licenses/LICENSE-2.0.txt for full text.  

    Copyright (c) 2024, Gluu, Inc.  
-->
<!doctype html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello world cedarling WASM example</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        crossorigin="anonymous">

    <style>
        textarea {
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- div to make init cedarling -->
        <div class="row">
            <h1>It is Cedarling example WASM page</h2>
                Result is written to the js console log.
        </div>

        <br><br>
        <div class="row">
            Click here to move to the <a href="/cedarling_app.html">Cedarling test app</a>
        </div>
    </div>

    <script type="module">
        import { BOOTSTRAP_CONFIG, REQUEST } from "/example_data.js" // Import js objects: bootstrap config and request
        import initWasm, { init } from "/pkg/cedarling_wasm.js";

        async function main() {
            await initWasm(); // Initialize the WebAssembly module

            let instance = await init(BOOTSTRAP_CONFIG);
            let result = await instance.authorize(REQUEST);
            console.log("result:", result);
        }
        main().catch(console.error);
    </script>
</body>

</html>