{
    "$schema": "https://json-schema.org/draft/2020-12/schema#",
    "type": "object",
    "properties": {
        "casa": {
            "description": "Janssen Casa (\"Casa\") is a self-service web portal for end-users to manage authentication and authorization preferences for their account in a Gluu Server.",
            "type": "object",
            "properties": {}
        },
        "auth-server": {
            "description": "OAuth Authorization Server, the OpenID Connect Provider, the UMA Authorization Server--this is the main Internet facing component of Janssen. It's the service that returns tokens, JWT's and identity assertions. This service must be Internet facing.",
            "type": "object",
            "properties": {}
        },
        "auth-server-key-rotation": {
            "description": "Responsible for regenerating auth-keys per x hours",
            "type": "object",
            "properties": {}
        },
        "config": {
            "description": "Configuration parameters for setup and initial configuration secret annd config layers used by Janssen services.",
            "type": "object",
            "properties": {
                "adminPassword": {
                    "description": "Admin password to login to the UI",
                    "$ref": "#/definitions/password"
                },
                "city": {
                    "description": "City of the company or individual. Used in generating the self-signed certificate",
                    "type": "string",
                    "pattern": "^[a-zA-Z]+$"
                },
                "salt": {
                    "description": "Used for encoding/decoding sensitive data. If omitted or set to empty string, the value will be self-generated. Otherwise, a 24 alphanumeric characters are allowed as its value.",
                    "type": "string",
                    "pattern": "^(?:[a-zA-Z0-9]{24})?$"
                },
                "configmap": {
                    "description": "Configuration parameters mapped to envs in a ConfigMap",
                    "type": "object",
                    "properties": {
                        "cnSqlDbDialect": {
                            "description": "SQL dialect",
                            "type": "string",
                            "pattern": "^(mysql|pgsql)$"
                        },
                        "cnSqlDbHost": {
                            "description": "SQL server address or ip",
                            "anyOf": [
                                {
                                    "$ref": "#/definitions/url-pattern"
                                },
                                {
                                    "$ref": "#/definitions/ip-pattern"
                                }
                            ]
                        },
                        "cnSqlDbPort": {
                            "description": "SQL server port",
                            "type": "integer"
                        },
                        "cnSqlDbName": {
                            "description": "SQL server database name for Jans",
                            "type": "string",
                            "pattern": "^[a-z-0-9]+$"
                        },
                        "cnSqlDbUser": {
                            "description": "SQL database Jans username",
                            "type": "string",
                            "pattern": "^[a-z-0-9]+$"
                        },
                        "cnSqlDbTimezone": {
                            "description": "SQL database timezone",
                            "type": "string",
                            "pattern": "^(GMT|UTC|ECT|EET|ART|EAT|MET|NET|PLT|IST|BST|VST|CTT|JST|ACT|AET|SST|NST|MIT|HST|AST|PST|PNT|MST|CST|EST|IET|PRT|CNT|AGT|BET|CAT)$"
                        },
                        "cnSqldbUserPassword": {
                            "description": "Password for user config.configmap.cnSqlDbUser.",
                            "$ref": "#/definitions/password"
                        },
                        "cnCacheType": {
                            "description": "Cache type. NATIVE_PERSISTENCE, REDIS. or IN_MEMORY. Defaults to NATIVE_PERSISTENCE",
                            "type": "string",
                            "pattern": "^(NATIVE_PERSISTENCE|REDIS|IN_MEMORY)$"
                        },
                        "cnConfigKubernetesConfigMap": {
                            "description": "The name of the ConfigMap that will hold the configuration layer",
                            "type": "string",
                            "pattern": "^[a-z]+$"
                        },
                        "cnGoogleSecretManagerServiceAccount": {
                            "description": "Service account with roles roles/secretmanager.admin base64 encoded string. This is used often inside the services to reach the configuration layer. Used only when global.configAdapterName and global.configSecretAdapter is set to google.",
                            "type": "string",
                            "pattern": "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
                        },
                        "cnGoogleProjectId": {
                            "description": "Project id of the google project the secret manager belongs to. Used only when global.configAdapterName and global.configSecretAdapter is set to google.",
                            "type": "string",
                            "pattern": ""
                        },
                        "cnGoogleSecretVersionId": {
                            "description": "Secret version to be used for secret configuration. Defaults to latest and should normally always stay that way. Used only when global.configAdapterName and global.configSecretAdapter is set to google.",
                            "type": "string",
                            "pattern": "^([0-9]|latest)*$"
                        },
                        "cnGoogleSecretNamePrefix": {
                            "description": "Prefix for Janssen secret in Google Secret Manager. Defaults to janssen. If left janssen-secret secret will be created. Used only when global.configAdapterName and global.configSecretAdapter is set to google.",
                            "type": "string",
                            "pattern": "^[a-z]+$"
                        },
                        "cnGoogleSecretManagerPassPhrase": {
                            "description": "Passphrase for Janssen secret in Google Secret Manager. This is used for encrypting and decrypting data from the Google Secret Manager. Used only when global.configAdapterName and global.configSecretAdapter is set to google.",
                            "$ref": "#/definitions/password"
                        },
                        "cnMaxRamPercent": {
                            "description": "Value passed to Java option -XX:MaxRAMPercentage",
                            "type": "string",
                            "pattern": "^(\\d{0,2}(\\.\\d{1,2})?|100(\\.0?)?)$"
                        },
                        "cnScimProtectionMode": {
                            "description": "SCIM protection mode OAUTH|TEST|UMA",
                            "type": "string",
                            "pattern": "^(OAUTH|TEST|UMA)$"
                        },
                        "cnPersistenceHybridMapping": {
                            "description": "Specify data that should be saved in persistence (one of default, user, cache, site, token, or session; default to default). Note this environment only takes effect when `global.cnPersistenceType`  is set to `hybrid`.",
                            "type": "string"
                        },
                        "cnRedisSentinelGroup": {
                            "description": "Redis Sentinel Group. Often set when `config.configmap.cnRedisType` is set to `SENTINEL`. Can be used when  `config.configmap.cnCacheType` is set to `REDIS`.",
                            "type": "string"
                        },
                        "cnRedisSslTruststore": {
                            "description": "Redis SSL truststore. Optional. Can be used when  `config.configmap.cnCacheType` is set to `REDIS`.",
                            "type": "string"
                        },
                        "cnRedisType": {
                            "description": "Redis service type. `STANDALONE` or `CLUSTER`. Can be used when  `config.configmap.cnCacheType` is set to `REDIS`.",
                            "type": "string",
                            "pattern": "^(SHARDED|STANDALONE|CLUSTER|SENTINEL)$"
                        },
                        "cnRedisUrl": {
                            "description": "Redis URL and port number <url>:<port>. Can be used when  `config.configmap.cnCacheType` is set to `REDIS`.",
                            "$ref": "#/definitions/url-pattern"
                        },
                        "cnRedisUseSsl": {
                            "description": "Boolean to use SSL in Redis. Can be used when  `config.configmap.cnCacheType` is set to `REDIS`.",
                            "type": "boolean"
                        },
                        "cnSecretKubernetesSecret": {
                            "description": "Kubernetes secret name holding configuration keys. Used when global.configSecretAdapter is set to kubernetes which is the default.",
                            "type": "string",
                            "pattern": "^[a-z]+$"
                        },
                        "lbAddr": {
                            "description": "Loadbalancer address for AWS if the FQDN is not registered.",
                            "$ref": "#/definitions/url-pattern"
                        }
                    }
                },
                "countryCode": {
                    "description": "Country code. Used for certificate creation.",
                    "type": "string",
                    "pattern": "^[A-Z]+$"
                },
                "email": {
                    "description": "Email address of the administrator usually. Used for certificate creation.",
                    "$ref": "#/definitions/email-format"
                },
                "image": {
                    "type": "object",
                    "properties": {
                        "repository": {
                            "description": "Image  to use for deploying",
                            "type": "string"
                        },
                        "tag": {
                            "description": "Image  tag to use for deploying.",
                            "type": "string",
                            "pattern": "^[a-z0-9-_.]+$"
                        }
                    }
                },
                "orgName": {
                    "description": "Organization name. Used for certificate creation.",
                    "type": "string",
                    "pattern": "^[a-zA-Z]+$"
                },
                "redisPassword": {
                    "description": "Redis admin password if `config.configmap.cnCacheType` is set to `REDIS`",
                    "$ref": "#/definitions/password"
                },
                "resources": {
                    "description": "Resource specs.",
                    "type": "object",
                    "properties": {
                        "limits": {
                            "type": "object",
                            "properties": {
                                "cpu": {
                                    "description": "CPU limit.",
                                    "type": "string",
                                    "pattern": "^[0-9m]+$"
                                },
                                "memory": {
                                    "description": "Memory limit.",
                                    "type": "string",
                                    "pattern": "^[0-9Mi]+$"
                                }
                            }
                        },
                        "requests": {
                            "type": "object",
                            "properties": {
                                "cpu": {
                                    "description": "CPU request.",
                                    "type": "string",
                                    "pattern": "^[0-9m]+$"
                                },
                                "memory": {
                                    "description": "Memory request.",
                                    "type": "string",
                                    "pattern": "^[0-9Mi]+$"
                                }
                            }
                        }
                    }
                },
                "state": {
                    "description": "State code. Used for certificate creation.",
                    "type": "string",
                    "pattern": "^[a-zA-Z]+$"
                }
            }
        },
        "config-api": {
            "description": "Config Api endpoints can be used to configure the auth-server, which is an open-source OpenID Connect Provider (OP) and UMA Authorization Server (AS).",
            "type": "object",
            "properties": {}
        },
        "fido2": {
            "description": "FIDO 2.0 (FIDO2) is an open authentication standard that enables leveraging common devices to authenticate to online services in both mobile and desktop environments.",
            "type": "object",
            "properties": {}
        },
        "global": {
            "description": "Parameters used globally across all services helm charts.",
            "type": "object",
            "properties": {
                "alb": {
                    "type": "object",
                    "properties": {
                        "ingress": {
                            "description": "Activates ALB ingress",
                            "type": "boolean"
                        }
                    }
                },
                "auth-server": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "destinationRule": {
                                    "type": "object"
                                },
                                "podDisruptionBudget": {
                                    "type": "object"
                                },
                                "virtualService": {
                                    "type": "object"
                                },
                                "pod": {
                                    "type": "object"
                                },
                                "deployment": {
                                    "type": "object"
                                },
                                "horizontalPodAutoscaler": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                },
                                "secret": {
                                    "type": "object"
                                }
                            }
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable auth-server chart. You should never set this to false.",
                            "type": "boolean"
                        },
                        "authServerServiceName": {
                            "description": "Name of the auth-server service. Please keep it as default.",
                            "type": "string",
                            "pattern": "^[a-z0-9-]+$"
                        },
                        "appLoggers": {
                            "type": "object",
                            "properties": {
                                "authLogTarget": {
                                    "description": "jans-auth.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "authLogLevel": {
                                    "description": "jans-auth.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "httpLogTarget": {
                                    "description": "http_request_response target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "httpLogLevel": {
                                    "description": "http_request_response level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "persistenceLogTarget": {
                                    "description": "jans-auth_persistence.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "persistenceLogLevel": {
                                    "description": "jans-auth_persistence.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "persistenceDurationLogTarget": {
                                    "description": "jans-auth_persistence_duration.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "persistenceDurationLogLevel": {
                                    "description": "jans-auth_persistence_duration.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "scriptLogTarget": {
                                    "description": "jans-auth_script.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "scriptLogLevel": {
                                    "description": "jans-auth_script.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "auditStatsLogTarget": {
                                    "description": "jans-auth_audit.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "auditStatsLogLevel": {
                                    "description": "jans-auth_audit.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                }
                            }
                        },
                        "ingress": {
                            "type": "object",
                            "properties": {
                                "lockConfigLabels": {
                                    "description": "Lock config ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "lockConfigAdditionalAnnotations": {
                                    "description": "Lock config ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "lockLabels": {
                                    "description": "Lock ingress resource labels. key app is taken.",
                                    "type": "object"
                                },
                                "lockAdditionalAnnotations": {
                                    "description": "Lock ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "openidConfigLabels": {
                                    "description": "openid-configuration ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "openidAdditionalAnnotations": {
                                    "description": "openid-configuration ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "deviceCodeLabels": {
                                    "description": "device-code ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "deviceCodeAdditionalAnnotations": {
                                    "description": "device-code ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "firebaseMessagingLabels": {
                                    "description": "Firebase Messaging ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "firebaseMessagingAdditionalAnnotations": {
                                    "description": "Firebase Messaging ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "uma2ConfigLabels": {
                                    "description": "uma2 config ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "uma2AdditionalAnnotations": {
                                    "description": "uma2 config ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "webfingerLabels": {
                                    "description": "webfinger ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "webfingerAdditionalAnnotations": {
                                    "description": "webfinger ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "webdiscoveryLabels": {
                                    "description": "webdiscovery ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "webdiscoveryAdditionalAnnotations": {
                                    "description": "webfinger ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "u2fConfigLabels": {
                                    "description": "u2f ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "u2fAdditionalAnnotations": {
                                    "description": "u2f config ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "authzenConfigLabels": {
                                    "description": "authzen config ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "authzenAdditionalAnnotations": {
                                    "description": "authzen config ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "authServerLabels": {
                                    "description": "Auth server config ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "authServerAdditionalAnnotations": {
                                    "description": "Auth server ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "authServerEnabled": {
                                    "description": "Enable Auth server endpoints /jans-auth",
                                    "type": "boolean"
                                },
                                "openidConfigEnabled": {
                                    "description": "Enable endpoint /.well-known/openid-configuration",
                                    "type": "boolean"
                                },
                                "deviceCodeEnabled": {
                                    "description": "Enable endpoint /device-code",
                                    "type": "boolean"
                                },
                                "firebaseMessagingEnabled": {
                                    "description": "Enable endpoint /firebase-messaging-sw.js",
                                    "type": "boolean"
                                },
                                "uma2ConfigEnabled": {
                                    "description": "Enable endpoint /.well-known/uma2-configuration",
                                    "type": "boolean"
                                },
                                "webfingerEnabled": {
                                    "description": "Enable endpoint /.well-known/webfinger",
                                    "type": "boolean"
                                },
                                "webdiscoveryEnabled": {
                                    "description": "Enable endpoint /.well-known/simple-web-discovery",
                                    "type": "boolean"
                                },
                                "u2fConfigEnabled": {
                                    "description": "Enable endpoint /.well-known/fido-configuration",
                                    "type": "boolean"
                                },
                                "lockConfigEnabled": {
                                    "description": "Enable endpoint /.well-known/lock-server-configuration",
                                    "type": "boolean"
                                },
                                "lockEnabled": {
                                    "description": "Enable endpoint /jans-lock",
                                    "type": "boolean"
                                },
                                "authzenConfigEnabled": {
                                    "description": "Enable endpoint /.well-known/authzen-configuration",
                                    "type": "boolean"
                                }
                            }
                        },
                        "lockEnabled": {
                            "description": "Enable jans-lock as service running inside auth-server",
                            "type": "boolean"
                        }
                    }
                },
                "auth-server-key-rotation": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "cronjob": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                },
                                "secret": {
                                    "type": "object"
                                }
                            }
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable the auth-server-key rotation cronjob chart.",
                            "type": "boolean"
                        }
                    }
                },
                "awsStorageType": {
                    "description": "Volume stroage type if using AWS volumes.",
                    "type": "string",
                    "pattern": "^(io1|io2|gp2|st1|sc1)$"
                },
                "azureStorageAccountType": {
                    "description": "Volume storage type if using Azure disks.",
                    "type": "string",
                    "pattern": "^(Standard_LRS|Premium_LRS|StandardSSD_LRS|UltraSSD_LRS)$"
                },
                "azureStorageKind": {
                    "description": "Azure storage kind if using Azure disks",
                    "type": "string",
                    "pattern": "^(Managed)$"
                },
                "cloud": {
                    "type": "object",
                    "properties": {
                        "testEnviroment": {
                            "description": "Boolean flag if enabled will strip resources requests and limits from all services.",
                            "type": "boolean"
                        }
                    }
                },
                "cnPersistenceType": {
                    "description": "Persistence backend to run Janssen with hybrid|sql.",
                    "type": "string",
                    "pattern": "^(hybrid|sql)$"
                },
                "cnDocumentStoreType": {
                    "description": "Document store type to use for shibboleth files  DB.",
                    "type": "string",
                    "pattern": "^(DB)$"
                },
                "config": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "clusterRoleBinding": {
                                    "type": "object"
                                },
                                "configMap": {
                                    "type": "object"
                                },
                                "job": {
                                    "type": "object"
                                },
                                "roleBinding": {
                                    "type": "object"
                                },
                                "role": {
                                    "type": "object"
                                },
                                "secret": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                },
                                "serviceAccount": {
                                    "type": "object"
                                }
                            }
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable the configuration chart. This normally should always be true",
                            "type": "boolean"
                        }
                    }
                },
                "configAdapterName": {
                    "description": "The config backend adapter that will hold Janssen configuration layer. aws|google|kubernetes",
                    "type": "string",
                    "pattern": "^(kubernetes|google|aws)$"
                },
                "configSecretAdapter": {
                    "description": "The config backend adapter that will hold Janssen secret layer. vault|aws|google|kubernetes",
                    "type": "string",
                    "pattern": "^(kubernetes|google|aws|vault)$"
                },
                "cnGoogleApplicationCredentials": {
                    "description": "Base64 encoded service account. The sa must have roles/secretmanager.admin to use Google secrets.",
                    "type": "string",
                    "pattern": ".*google-credentials.json\\b.*"
                },
                "casa": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "destinationRule": {
                                    "type": "object"
                                },
                                "podDisruptionBudget": {
                                    "type": "object"
                                },
                                "virtualService": {
                                    "type": "object"
                                },
                                "pod": {
                                    "type": "object"
                                },
                                "deployment": {
                                    "type": "object"
                                },
                                "horizontalPodAutoscaler": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                },
                                "secret": {
                                    "type": "object"
                                }
                            }
                        },
                        "casaServiceName": {
                            "description": "Name of the casa service. Please keep it as default.",
                            "type": "string",
                            "pattern": "^[a-z0-9-]+$"
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable the casa chart.",
                            "type": "boolean"
                        },
                        "ingress": {
                            "description": "Endpoint control",
                            "type": "object",
                            "properties": {
                                "casaEnabled": {
                                    "description": " Enable casa endpoints /casa",
                                    "type": "boolean"
                                },
                                "casaLabels": {
                                    "description": "Casa ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "casaAdditionalAnnotations": {
                                    "description": "Casa ingress resource additional annotations.",
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "config-api": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "destinationRule": {
                                    "type": "object"
                                },
                                "podDisruptionBudget": {
                                    "type": "object"
                                },
                                "virtualService": {
                                    "type": "object"
                                },
                                "pod": {
                                    "type": "object"
                                },
                                "deployment": {
                                    "type": "object"
                                },
                                "horizontalPodAutoscaler": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                }
                            }
                        },
                        "configApiServerServiceName": {
                            "description": "Name of the config-api service. Please keep it as default.",
                            "type": "string",
                            "pattern": "^[a-z0-9-]+$"
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable the config-api chart.",
                            "type": "boolean"
                        },
                        "appLoggers": {
                            "type": "object",
                            "properties": {
                                "configApiLogTarget": {
                                    "description": "configapi.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "configApiLogLevel": {
                                    "description": "configapi.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                }
                            }
                        },
                        "ingress": {
                            "type": "object",
                            "properties": {
                                "configApiEnabled": {
                                    "description": "Enable config API endpoints /jans-config-api",
                                    "type": "boolean"
                                },
                                "configApiLabels": {
                                    "description": "configAPI ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "configApiAdditionalAnnotations": {
                                    "description": "ConfigAPI ingress resource additional annotations.",
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "fqdn": {
                    "description": "Fully qualified domain name to be used for Janssen installation. This address will be used to reach Janssen services.",
                    "$ref": "#/definitions/fqdn-pattern"
                },
                "fido2": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "destinationRule": {
                                    "type": "object"
                                },
                                "podDisruptionBudget": {
                                    "type": "object"
                                },
                                "virtualService": {
                                    "type": "object"
                                },
                                "pod": {
                                    "type": "object"
                                },
                                "deployment": {
                                    "type": "object"
                                },
                                "horizontalPodAutoscaler": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                },
                                "secret": {
                                    "type": "object"
                                }
                            }
                        },
                        "fido2ServiceName": {
                            "description": "Name of the fido2 service. Please keep it as default.",
                            "type": "string",
                            "pattern": "^[a-z0-9-]+$"
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable the fido2 chart.",
                            "type": "boolean"
                        },
                        "appLoggers": {
                            "type": "object",
                            "properties": {
                                "fido2LogTarget": {
                                    "description": "fido2.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "fido2LogLevel": {
                                    "description": "fido2.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "persistenceLogTarget": {
                                    "description": "fido2_persistence.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "persistenceLogLevel": {
                                    "description": "fido2_persistence.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                }
                            }
                        },
                        "ingress": {
                            "type": "object",
                            "properties": {
                                "fido2ConfigEnabled": {
                                    "description": "Enable endpoint /.well-known/fido2-configuration",
                                    "type": "boolean"
                                },
                                "fido2Enabled": {
                                    "description": "Enable endpoint /jans-fido2",
                                    "type": "boolean"
                                },
                                "fido2WebauthnEnabled": {
                                    "description": "Enable endpoint /.well-known/webauthn",
                                    "type": "boolean"
                                },
                                "fido2ConfigLabels": {
                                    "description": "fido2 config ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "fido2ConfigAdditionalAnnotations": {
                                    "description": "fido2 config ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "fido2Labels": {
                                    "description": "fido2 ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "fido2AdditionalAnnotations": {
                                    "description": "fido2 ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "fido2WebauthnLabels": {
                                    "description": "fido2 webauthn ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "fido2WebauthnAdditionalAnnotations": {
                                    "description": "fido2 webauthn ingress resource additional annotations.",
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "gcePdStorageType": {
                    "description": "GCE storage kind if using Google disks",
                    "type": "string",
                    "pattern": "^(pd-standard|pd-balanced|pd-ssd)$"
                },
                "isFqdnRegistered": {
                    "description": "Boolean flag to enable mapping global.lbIp  to global.fqdn inside pods on clouds that provide static ip for loadbalancers. On cloud that provide only addresses to the LB this flag will enable a script to actively scan config.configmap.lbAddr and update the hosts file inside the pods automatically.",
                    "type": "boolean"
                },
                "istio": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "description": "Boolean flag that enables using istio side cars with Janssen services.",
                            "type": "boolean"
                        },
                        "ingress": {
                            "description": "Boolean flag that enables using istio gateway for Janssen. This assumes istio ingress is installed and hence the LB is available.",
                            "type": "boolean"
                        },
                        "namespace": {
                            "description": "The namespace istio is deployed in. The is normally istio-system.",
                            "type": "string",
                            "pattern": "^[a-z0-9-_/]+$"
                        }
                    }
                },
                "lbIp": {
                    "description": "The Loadbalancer IP created by nginx or istio on clouds that provide static IPs. This is not needed if `global.fqdn` is globally resolvable.",
                    "$ref": "#/definitions/ip-pattern"
                },
                "nginx-ingress": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "description": "Boolean flag to enable/disable the nginx-ingress definitions chart.",
                            "type": "boolean"
                        }
                    }
                },
                "persistence": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "job": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                },
                                "secret": {
                                    "type": "object"
                                }
                            }
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable the persistence chart.",
                            "type": "boolean"
                        }
                    }
                },
                "scim": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "destinationRule": {
                                    "type": "object"
                                },
                                "podDisruptionBudget": {
                                    "type": "object"
                                },
                                "virtualService": {
                                    "type": "object"
                                },
                                "pod": {
                                    "type": "object"
                                },
                                "deployment": {
                                    "type": "object"
                                },
                                "horizontalPodAutoscaler": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                },
                                "secret": {
                                    "type": "object"
                                }
                            }
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable the SCIM chart.",
                            "type": "boolean"
                        },
                        "scimServiceName": {
                            "description": "Name of the scim service. Please keep it as default.",
                            "type": "string",
                            "pattern": "^[a-z0-9-]+$"
                        },
                        "appLoggers": {
                            "type": "object",
                            "properties": {
                                "authLogTarget": {
                                    "description": "jans-scim.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "authLogLevel": {
                                    "description": "jans-scim.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "persistenceLogTarget": {
                                    "description": "jans-scim_persistence.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "persistenceLogLevel": {
                                    "description": "jans-scim_persistence.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "persistenceDurationLogTarget": {
                                    "description": "jans-scim_persistence_duration.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "persistenceDurationLogLevel": {
                                    "description": "jans-scim_persistence_duration.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "scriptLogTarget": {
                                    "description": "jans-scim_script.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "scriptLogLevel": {
                                    "description": "jans-scim_script.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                }
                            }
                        },
                        "ingress": {
                            "type": "object",
                            "properties": {
                                "scimEnabled": {
                                    "description": "Enable SCIM endpoints /jans-scim",
                                    "type": "boolean"
                                },
                                "scimConfigEnabled": {
                                    "description": "Enable endpoint /.well-known/scim-configuration",
                                    "type": "boolean"
                                },
                                "scimConfigLabels": {
                                    "description": "SCIM config ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "scimConfigAdditionalAnnotations": {
                                    "description": "SCIM config ingress resource additional annotations.",
                                    "type": "object"
                                },
                                "scimLabels": {
                                    "description": "SCIM ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "scimAdditionalAnnotations": {
                                    "description": "SCIM ingress resource additional annotations.",
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "storageClass": {
                    "description": "StorageClass section. This is not currently used by the openbanking distribution. You may specify custom parameters as needed.",
                    "type": "object",
                    "properties": {
                        "allowVolumeExpansion": {
                            "type": "boolean"
                        },
                        "allowedTopologies": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "mountOptions": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "parameters": {
                            "type": "object",
                            "properties": {
                                "fsType": {
                                    "type": "string"
                                },
                                "kind": {
                                    "type": "string"
                                },
                                "pool": {
                                    "type": "string"
                                },
                                "storageAccountType": {
                                    "type": "string"
                                },
                                "type": {
                                    "type": "string"
                                }
                            }
                        },
                        "provisioner": {
                            "type": "string"
                        },
                        "reclaimPolicy": {
                            "type": "string"
                        },
                        "volumeBindingMode": {
                            "type": "string"
                        }
                    }
                },
                "link": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "destinationRule": {
                                    "type": "object"
                                },
                                "podDisruptionBudget": {
                                    "type": "object"
                                },
                                "virtualService": {
                                    "type": "object"
                                },
                                "pod": {
                                    "type": "object"
                                },
                                "deployment": {
                                    "type": "object"
                                },
                                "horizontalPodAutoscaler": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                }
                            }
                        },
                        "linkServiceName": {
                            "description": "Name of the link service. Please keep it as default.",
                            "type": "string",
                            "pattern": "^[a-z0-9-]+$"
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable the link chart.",
                            "type": "boolean"
                        },
                        "appLoggers": {
                            "type": "object",
                            "properties": {
                                "linkLogTarget": {
                                    "description": "jans-link.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "linkLogLevel": {
                                    "description": "jans-link.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "persistenceLogLevel": {
                                    "description": "jans-link_persistence.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "persistenceDurationLogTarget": {
                                    "description": "jans-link_persistence_duration.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "persistenceDurationLogLevel": {
                                    "description": "jans-link_persistence_duration.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                },
                                "scriptLogTarget": {
                                    "description": "jans-link_script.log target",
                                    "type": "string",
                                    "pattern": "^(STDOUT|FILE)$"
                                },
                                "scriptLogLevel": {
                                    "description": "jans-link_script.log level",
                                    "type": "string",
                                    "pattern": "^(FATAL|ERROR|WARN|INFO|DEBUG|TRACE)$"
                                }
                            }
                        },
                        "ingress": {
                            "description": "Endpoint control",
                            "type": "object",
                            "properties": {
                                "linkEnabled": {
                                    "description": "Enable link endpoints /jans-link",
                                    "type": "boolean"
                                },
                                "linkLabels": {
                                    "description": "link ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "linkAdditionalAnnotations": {
                                    "description": "link ingress resource additional annotations.",
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "saml": {
                    "type": "object",
                    "properties": {
                        "customAnnotations": {
                            "type": "object",
                            "properties": {
                                "destinationRule": {
                                    "type": "object"
                                },
                                "podDisruptionBudget": {
                                    "type": "object"
                                },
                                "virtualService": {
                                    "type": "object"
                                },
                                "pod": {
                                    "type": "object"
                                },
                                "deployment": {
                                    "type": "object"
                                },
                                "horizontalPodAutoscaler": {
                                    "type": "object"
                                },
                                "service": {
                                    "type": "object"
                                },
                                "secret": {
                                    "type": "object"
                                }
                            }
                        },
                        "samlServiceName": {
                            "description": "Name of the saml service. Please keep it as default.",
                            "type": "string",
                            "pattern": "^[a-z0-9-]+$"
                        },
                        "enabled": {
                            "description": "Boolean flag to enable/disable the saml chart.",
                            "type": "boolean"
                        },
                        "ingress": {
                            "description": "Endpoint control",
                            "type": "object",
                            "properties": {
                                "samlEnabled": {
                                    "description": " Enable SAML endpoints /kc",
                                    "type": "boolean"
                                },
                                "samlLabels": {
                                    "description": "SAML config ingress resource labels. key app is taken",
                                    "type": "object"
                                },
                                "samlAdditionalAnnotations": {
                                    "description": "SAML ingress resource additional annotations.",
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "cnSqlPasswordFile": {
                    "description": "The location of file contains password for the SQL user config.configmap.cnSqlDbUser. The file path must end with sql_password.",
                    "type": "string",
                    "pattern": ".*sql_password\\b.*"
                },
                "cnConfiguratorKey": {
                    "description": "Key to encrypt/decrypt configuration schema file using AES-256 CBC mode. Set the value to empty string to disable encryption/decryption, or 32 alphanumeric characters to enable it.",
                    "type": "string",
                    "pattern": "^(?:[a-zA-Z0-9]{32})?$"
                }
            }
        },
        "nginx-ingress": {
            "description": "Nginx ingress definitions chart",
            "type": "object",
            "properties": {}
        },
        "persistence": {
            "description": "Job to generate data and intial config for Janssen Server persistence layer.",
            "type": "object",
            "properties": {}
        },
        "scim": {
            "description": "System for Cross-domain Identity Management (SCIM) version 2.0",
            "type": "object",
            "properties": {}
        },
        "saml": {
            "description": "Jans SAML",
            "type": "object",
            "properties": {}
        },
        "kc-scheduler": {
            "description": "Responsible for synchronizing Keycloak SAML clients",
            "type": "object",
            "properties": {}
        }
    },
    "allOf": [
        {
            "$ref": "#/definitions/auth-server-enabled"
        },
        {
            "$ref": "#/definitions/auth-server-key-rotation-enabled"
        },
        {
            "$ref": "#/definitions/config-api-enabled"
        },
        {
            "$ref": "#/definitions/casa-enabled"
        },
        {
            "$ref": "#/definitions/fido2-enabled"
        },
        {
            "$ref": "#/definitions/nginx-ingress-enabled"
        },
        {
            "$ref": "#/definitions/persistence-enabled"
        },
        {
            "$ref": "#/definitions/scim-enabled"
        },
        {
            "$ref": "#/definitions/saml-enabled"
        },
        {
            "$ref": "#/definitions/kc-scheduler-enabled"
        }
    ],
    "definitions": {
        "password": {
            "anyOf": [
                {
                    "type": "string",
                    "minLength": 8,
                    "pattern": "",
                    "description": "Password does not meet requirements. The password must contain one digit, one uppercase letter, one lower case letter and one symbol",
                    "errors": {
                        "minLength": "Password minimum 6 character",
                        "pattern": "Password does not meet requirements. The password must contain one digit, one uppercase letter, one lower case letter and one symbol"
                    }
                },
                {
                    "type": "string",
                    "maxLength": 0
                }
            ]
        },
        "password-pattern": {
            "type": "string",
            "minLength": 6,
            "pattern": "",
            "errors": {
                "minLength": "Password minimum 6 character",
                "pattern": "Password does not meet requirements. The password must contain one digit, one uppercase letter, one lower case letter and one symbol"
            }
        },
        "email-format": {
            "type": "string",
            "format": "email"
        },
        "fqdn-pattern": {
            "anyOf": [
                {
                    "type": "string",
                    "errors": {
                        "pattern": "Setting not FQDN structured. Please enter a FQDN with the format demoexample.jans.io"
                    }
                },
                {
                    "type": "string",
                    "maxLength": 0
                }
            ]
        },
        "url-pattern": {
            "anyOf": [
                {
                    "type": "string",
                    "pattern": "(^|\\s)((https?:\\/\\/)?[\\w-]+(\\.[\\w-]+)+\\.?(:\\d+)?(\\/\\S*)?)",
                    "errors": {
                        "pattern": "URL pattern is not meeting standards."
                    }
                },
                {
                    "type": "string",
                    "maxLength": 0
                }
            ]
        },
        "ip-pattern": {
            "anyOf": [
                {
                    "type": "string",
                    "pattern": "^(\\*|((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))$",
                    "errors": {
                        "pattern": "Not a valid IP."
                    }
                },
                {
                    "type": "string",
                    "maxLength": 0
                }
            ]
        },
        "auth-server-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "auth-server": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "auth-server": {
                        "required": [
                            "image",
                            "replicas",
                            "resources"
                        ],
                        "properties": {
                            "hpa": {
                                "description": "Configure the HorizontalPodAutoscaler",
                                "type": "object",
                                "properties": {
                                    "enabled": {
                                        "type": "boolean"
                                    },
                                    "minReplicas": {
                                        "type": "integer"
                                    },
                                    "maxReplicas": {
                                        "type": "integer"
                                    },
                                    "targetCPUUtilizationPercentage": {
                                        "type": "integer"
                                    },
                                    "metrics": {
                                        "description": "metrics if targetCPUUtilizationPercentage is not set",
                                        "type": "array"
                                    },
                                    "behavior": {
                                        "description": "Scaling Policies",
                                        "type": "object"
                                    }
                                }
                            },
                            "usrEnvs": {
                                "description": "Add custom normal and secret envs to the service",
                                "type": "object",
                                "properties": {
                                    "normal": {
                                        "description": "Add custom normal envs to the service",
                                        "type": "object"
                                    },
                                    "secret": {
                                        "description": "Add custom secret envs to the service",
                                        "type": "object"
                                    }
                                }
                            },
                            "dnsPolicy": {
                                "description": "Add custom dns policy",
                                "type": "string",
                                "pattern": "^(Default|ClusterFirst|ClusterFirstWithHostNet|None|)$"
                            },
                            "dnsConfig": {
                                "description": "Add custom dns config",
                                "type": "object"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "pullPolicy": {
                                        "description": "Image pullPolicy to use for deploying.",
                                        "type": "string",
                                        "pattern": "^(Always|Never|IfNotPresent)$"
                                    },
                                    "repository": {
                                        "description": "Image  to use for deploying",
                                        "type": "string"
                                    },
                                    "tag": {
                                        "description": "Image  tag to use for deploying.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-_.]+$"
                                    }
                                }
                            },
                            "replicas": {
                                "description": "Service replica number.",
                                "type": "integer"
                            },
                            "resources": {
                                "description": "Resource specs.",
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU limit.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory limit.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU request.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory request.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "else": true
        },
        "auth-server-key-rotation-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "auth-server-key-rotation": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "auth-server-key-rotation": {
                        "properties": {
                            "usrEnvs": {
                                "description": "Add custom normal and secret envs to the service",
                                "type": "object",
                                "properties": {
                                    "normal": {
                                        "description": "Add custom normal envs to the service",
                                        "type": "object"
                                    },
                                    "secret": {
                                        "description": "Add custom secret envs to the service",
                                        "type": "object"
                                    }
                                }
                            },
                            "dnsPolicy": {
                                "description": "Add custom dns policy",
                                "type": "string",
                                "pattern": "^(Default|ClusterFirst|ClusterFirstWithHostNet|None|)$"
                            },
                            "dnsConfig": {
                                "description": "Add custom dns config",
                                "type": "object"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "pullPolicy": {
                                        "description": "Image pullPolicy to use for deploying.",
                                        "type": "string",
                                        "pattern": "^(Always|Never|IfNotPresent)$"
                                    },
                                    "repository": {
                                        "description": "Image  to use for deploying",
                                        "type": "string"
                                    },
                                    "tag": {
                                        "description": "Image  tag to use for deploying.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-_.]+$"
                                    }
                                }
                            },
                            "keysLife": {
                                "description": "Auth server key rotation keys life in hours",
                                "type": "integer"
                            },
                            "keysStrategy": {
                                "description": "Set key selection strategy used by Auth server",
                                "type": "string"
                            },
                            "keysPushDelay": {
                                "description": "Delay (in seconds) before pushing private keys to Auth server",
                                "type": "integer"
                            },
                            "keysPushStrategy": {
                                "description": "Set key selection strategy after pushing private keys to Auth server",
                                "type": "string"
                            },
                            "resources": {
                                "description": "Resource specs.",
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU limit.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory limit.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU request.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory request.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "required": [
                            "image",
                            "resources",
                            "keysLife"
                        ]
                    }
                }
            },
            "else": true
        },
        "casa-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "casa": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "casa": {
                        "required": [
                            "image",
                            "replicas",
                            "resources"
                        ],
                        "properties": {
                            "hpa": {
                                "description": "Configure the HorizontalPodAutoscaler",
                                "type": "object",
                                "properties": {
                                    "enabled": {
                                        "type": "boolean"
                                    },
                                    "minReplicas": {
                                        "type": "integer"
                                    },
                                    "maxReplicas": {
                                        "type": "integer"
                                    },
                                    "targetCPUUtilizationPercentage": {
                                        "type": "integer"
                                    },
                                    "metrics": {
                                        "description": "metrics if targetCPUUtilizationPercentage is not set",
                                        "type": "array"
                                    },
                                    "behavior": {
                                        "description": "Scaling Policies",
                                        "type": "object"
                                    }
                                }
                            },
                            "usrEnvs": {
                                "description": "Add custom normal and secret envs to the service",
                                "type": "object",
                                "properties": {
                                    "normal": {
                                        "description": "Add custom normal envs to the service",
                                        "type": "object"
                                    },
                                    "secret": {
                                        "description": "Add custom secret envs to the service",
                                        "type": "object"
                                    }
                                }
                            },
                            "dnsPolicy": {
                                "description": "Add custom dns policy",
                                "type": "string",
                                "pattern": "^(Default|ClusterFirst|ClusterFirstWithHostNet|None|)$"
                            },
                            "dnsConfig": {
                                "description": "Add custom dns config",
                                "type": "object"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "pullPolicy": {
                                        "description": "Image pullPolicy to use for deploying.",
                                        "type": "string",
                                        "pattern": "^(Always|Never|IfNotPresent)$"
                                    },
                                    "repository": {
                                        "description": "Image  to use for deploying",
                                        "type": "string"
                                    },
                                    "tag": {
                                        "description": "Image  tag to use for deploying.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-_.]+$"
                                    }
                                }
                            },
                            "replicas": {
                                "description": "Service replica number.",
                                "type": "integer"
                            },
                            "resources": {
                                "description": "Resource specs.",
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU limit.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory limit.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU request.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory request.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "else": true
        },
        "config-api-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "config-api": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "config-api": {
                        "required": [
                            "image",
                            "replicas",
                            "resources"
                        ],
                        "type": "object",
                        "properties": {
                            "hpa": {
                                "description": "Configure the HorizontalPodAutoscaler",
                                "type": "object",
                                "properties": {
                                    "enabled": {
                                        "type": "boolean"
                                    },
                                    "minReplicas": {
                                        "type": "integer"
                                    },
                                    "maxReplicas": {
                                        "type": "integer"
                                    },
                                    "targetCPUUtilizationPercentage": {
                                        "type": "integer"
                                    },
                                    "metrics": {
                                        "description": "metrics if targetCPUUtilizationPercentage is not set",
                                        "type": "array"
                                    },
                                    "behavior": {
                                        "description": "Scaling Policies",
                                        "type": "object"
                                    }
                                }
                            },
                            "usrEnvs": {
                                "description": "Add custom normal and secret envs to the service",
                                "type": "object",
                                "properties": {
                                    "normal": {
                                        "description": "Add custom normal envs to the service",
                                        "type": "object"
                                    },
                                    "secret": {
                                        "description": "Add custom secret envs to the service",
                                        "type": "object"
                                    }
                                }
                            },
                            "dnsPolicy": {
                                "description": "Add custom dns policy",
                                "type": "string",
                                "pattern": "^(Default|ClusterFirst|ClusterFirstWithHostNet|None|)$"
                            },
                            "dnsConfig": {
                                "description": "Add custom dns config",
                                "type": "object"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "pullPolicy": {
                                        "description": "Image pullPolicy to use for deploying.",
                                        "type": "string",
                                        "pattern": "^(Always|Never|IfNotPresent)$"
                                    },
                                    "repository": {
                                        "description": "Image  to use for deploying",
                                        "type": "string"
                                    },
                                    "tag": {
                                        "description": "Image  tag to use for deploying.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-_.]+$"
                                    }
                                }
                            },
                            "replicas": {
                                "description": "Service replica number.",
                                "type": "integer"
                            },
                            "resources": {
                                "description": "Resource specs.",
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU limit.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory limit.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU request.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory request.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "else": true
        },
        "fido2-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "fido2": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "fido2": {
                        "required": [
                            "image",
                            "replicas",
                            "resources",
                            "service"
                        ],
                        "type": "object",
                        "properties": {
                            "dnsPolicy": {
                                "description": "Add custom dns policy",
                                "type": "string",
                                "pattern": "^(Default|ClusterFirst|ClusterFirstWithHostNet|None|)$"
                            },
                            "dnsConfig": {
                                "description": "Add custom dns config",
                                "type": "object"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "pullPolicy": {
                                        "description": "Image pullPolicy to use for deploying.",
                                        "type": "string",
                                        "pattern": "^(Always|Never|IfNotPresent)$"
                                    },
                                    "repository": {
                                        "description": "Image  to use for deploying",
                                        "type": "string"
                                    },
                                    "tag": {
                                        "description": "Image  tag to use for deploying.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-_.]+$"
                                    }
                                }
                            },
                            "replicas": {
                                "description": "Service replica number.",
                                "type": "integer"
                            },
                            "resources": {
                                "description": "Resource specs.",
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU limit.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory limit.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU request.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory request.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    }
                                }
                            },
                            "service": {
                                "type": "object",
                                "properties": {
                                    "fido2ServiceName": {
                                        "description": "Name of the Fido2 service. Please keep it as default.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-]+$"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "else": true
        },
        "nginx-ingress-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "nginx-ingress": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "nginx-ingress": {
                        "type": "object",
                        "properties": {
                            "ingress": {
                                "type": "object",
                                "required": [
                                    "path",
                                    "hosts",
                                    "tls"
                                ],
                                "properties": {
                                    "additionalLabels": {
                                        "description": "Additional labels that will be added across all ingress definitions in the format of {mylabel: \"myapp\"}",
                                        "type": "object"
                                    },
                                    "additionalAnnotations": {
                                        "description": "Additional annotations that will be added across all ingress definitions in the format of {cert-manager.io/issuer: \"letsencrypt-prod\"}",
                                        "type": "object"
                                    },
                                    "hosts": {
                                        "type": "array",
                                        "items": {
                                            "$ref": "#/definitions/fqdn-pattern"
                                        }
                                    },
                                    "path": {
                                        "type": "string"
                                    },
                                    "tls": {
                                        "description": "Secret holding HTTPS CA cert and key.",
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "hosts": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/definitions/fqdn-pattern"
                                                    }
                                                },
                                                "secretName": {
                                                    "type": "string",
                                                    "pattern": "^[a-z-]+$"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "else": true
        },
        "persistence-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "persistence": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "persistence": {
                        "required": [
                            "image",
                            "resources"
                        ],
                        "type": "object",
                        "properties": {
                            "usrEnvs": {
                                "description": "Add custom normal and secret envs to the service",
                                "type": "object",
                                "properties": {
                                    "normal": {
                                        "description": "Add custom normal envs to the service",
                                        "type": "object"
                                    },
                                    "secret": {
                                        "description": "Add custom secret envs to the service",
                                        "type": "object"
                                    }
                                }
                            },
                            "dnsPolicy": {
                                "description": "Add custom dns policy",
                                "type": "string",
                                "pattern": "^(Default|ClusterFirst|ClusterFirstWithHostNet|None|)$"
                            },
                            "dnsConfig": {
                                "description": "Add custom dns config",
                                "type": "object"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "pullPolicy": {
                                        "description": "Image pullPolicy to use for deploying.",
                                        "type": "string",
                                        "pattern": "^(Always|Never|IfNotPresent)$"
                                    },
                                    "repository": {
                                        "description": "Image  to use for deploying",
                                        "type": "string"
                                    },
                                    "tag": {
                                        "description": "Image  tag to use for deploying.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-_.]+$"
                                    }
                                }
                            },
                            "resources": {
                                "description": "Resource specs.",
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU limit.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory limit.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU request.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory request.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "else": true
        },
        "scim-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "scim": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "scim": {
                        "required": [
                            "image",
                            "replicas",
                            "resources",
                            "service"
                        ],
                        "type": "object",
                        "properties": {
                            "hpa": {
                                "description": "Configure the HorizontalPodAutoscaler",
                                "type": "object",
                                "properties": {
                                    "enabled": {
                                        "type": "boolean"
                                    },
                                    "minReplicas": {
                                        "type": "integer"
                                    },
                                    "maxReplicas": {
                                        "type": "integer"
                                    },
                                    "targetCPUUtilizationPercentage": {
                                        "type": "integer"
                                    },
                                    "metrics": {
                                        "description": "metrics if targetCPUUtilizationPercentage is not set",
                                        "type": "array"
                                    },
                                    "behavior": {
                                        "description": "Scaling Policies",
                                        "type": "object"
                                    }
                                }
                            },
                            "usrEnvs": {
                                "description": "Add custom normal and secret envs to the service",
                                "type": "object",
                                "properties": {
                                    "normal": {
                                        "description": "Add custom normal envs to the service",
                                        "type": "object"
                                    },
                                    "secret": {
                                        "description": "Add custom secret envs to the service",
                                        "type": "object"
                                    }
                                }
                            },
                            "dnsPolicy": {
                                "description": "Add custom dns policy",
                                "type": "string",
                                "pattern": "^(Default|ClusterFirst|ClusterFirstWithHostNet|None|)$"
                            },
                            "dnsConfig": {
                                "description": "Add custom dns config",
                                "type": "object"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "pullPolicy": {
                                        "description": "Image pullPolicy to use for deploying.",
                                        "type": "string",
                                        "pattern": "^(Always|Never|IfNotPresent)$"
                                    },
                                    "repository": {
                                        "description": "Image  to use for deploying",
                                        "type": "string"
                                    },
                                    "tag": {
                                        "description": "Image  tag to use for deploying.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-_.]+$"
                                    }
                                }
                            },
                            "replicas": {
                                "description": "Service replica number.",
                                "type": "integer"
                            },
                            "resources": {
                                "description": "Resource specs.",
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU limit.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory limit.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU request.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory request.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    }
                                }
                            },
                            "service": {
                                "type": "object",
                                "properties": {
                                    "scimServiceName": {
                                        "description": "Name of the SCIM service. Please keep it as default.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-]+$"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "else": true
        },
        "saml-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "saml": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "saml": {
                        "required": [
                            "image",
                            "replicas",
                            "resources",
                            "service"
                        ],
                        "type": "object",
                        "properties": {
                            "hpa": {
                                "description": "Configure the HorizontalPodAutoscaler",
                                "type": "object",
                                "properties": {
                                    "enabled": {
                                        "type": "boolean"
                                    },
                                    "minReplicas": {
                                        "type": "integer"
                                    },
                                    "maxReplicas": {
                                        "type": "integer"
                                    },
                                    "targetCPUUtilizationPercentage": {
                                        "type": "integer"
                                    },
                                    "metrics": {
                                        "description": "metrics if targetCPUUtilizationPercentage is not set",
                                        "type": "array"
                                    },
                                    "behavior": {
                                        "description": "Scaling Policies",
                                        "type": "object"
                                    }
                                }
                            },
                            "usrEnvs": {
                                "description": "Add custom normal and secret envs to the service",
                                "type": "object",
                                "properties": {
                                    "normal": {
                                        "description": "Add custom normal envs to the service",
                                        "type": "object"
                                    },
                                    "secret": {
                                        "description": "Add custom secret envs to the service",
                                        "type": "object"
                                    }
                                }
                            },
                            "dnsPolicy": {
                                "description": "Add custom dns policy",
                                "type": "string",
                                "pattern": "^(Default|ClusterFirst|ClusterFirstWithHostNet|None|)$"
                            },
                            "dnsConfig": {
                                "description": "Add custom dns config",
                                "type": "object"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "pullPolicy": {
                                        "description": "Image pullPolicy to use for deploying.",
                                        "type": "string",
                                        "pattern": "^(Always|Never|IfNotPresent)$"
                                    },
                                    "repository": {
                                        "description": "Image  to use for deploying",
                                        "type": "string"
                                    },
                                    "tag": {
                                        "description": "Image  tag to use for deploying.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-_.]+$"
                                    }
                                }
                            },
                            "replicas": {
                                "description": "Service replica number.",
                                "type": "integer"
                            },
                            "resources": {
                                "description": "Resource specs.",
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU limit.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory limit.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU request.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory request.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    }
                                }
                            },
                            "service": {
                                "type": "object",
                                "properties": {
                                    "scimServiceName": {
                                        "description": "Name of the SAML service. Please keep it as default.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-]+$"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "else": true
        },
        "kc-scheduler-enabled": {
            "if": {
                "properties": {
                    "global": {
                        "properties": {
                            "kc-scheduler": {
                                "properties": {
                                    "enabled": {
                                        "const": "true"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "then": {
                "properties": {
                    "kc-scheduler": {
                        "properties": {
                            "usrEnvs": {
                                "description": "Add custom normal and secret envs to the service",
                                "type": "object",
                                "properties": {
                                    "normal": {
                                        "description": "Add custom normal envs to the service",
                                        "type": "object"
                                    },
                                    "secret": {
                                        "description": "Add custom secret envs to the service",
                                        "type": "object"
                                    }
                                }
                            },
                            "dnsPolicy": {
                                "description": "Add custom dns policy",
                                "type": "string",
                                "pattern": "^(Default|ClusterFirst|ClusterFirstWithHostNet|None|)$"
                            },
                            "dnsConfig": {
                                "description": "Add custom dns config",
                                "type": "object"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "pullPolicy": {
                                        "description": "Image pullPolicy to use for deploying.",
                                        "type": "string",
                                        "pattern": "^(Always|Never|IfNotPresent)$"
                                    },
                                    "repository": {
                                        "description": "Image  to use for deploying",
                                        "type": "string"
                                    },
                                    "tag": {
                                        "description": "Image  tag to use for deploying.",
                                        "type": "string",
                                        "pattern": "^[a-z0-9-_.]+$"
                                    }
                                }
                            },
                            "interval": {
                                "description": "Interval of running the scheduler (in minutes)",
                                "type": "integer"
                            },
                            "resources": {
                                "description": "Resource specs.",
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU limit.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory limit.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "description": "CPU request.",
                                                "type": "string",
                                                "pattern": "^[0-9m]+$"
                                            },
                                            "memory": {
                                                "description": "Memory request.",
                                                "type": "string",
                                                "pattern": "^[0-9Mi]+$"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "required": [
                            "image",
                            "resources",
                            "interval"
                        ]
                    }
                }
            },
            "else": true
        }
    }
}
